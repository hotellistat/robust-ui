var r=__REACT__,{Children:J,Component:Q,Fragment:X,Profiler:ee,PureComponent:te,StrictMode:oe,Suspense:re,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ae,cloneElement:le,createContext:ne,createElement:ie,createFactory:se,createRef:ce,forwardRef:ue,isValidElement:me,lazy:pe,memo:de,useCallback:y,useContext:be,useDebugValue:Se,useEffect:x,useImperativeHandle:fe,useLayoutEffect:ye,useMemo:Te,useReducer:_e,useRef:A,useState:Oe,version:Ce}=__REACT__;var Ie=__STORYBOOKAPI__,{ActiveTabs:ge,Consumer:Ee,ManagerContext:xe,Provider:he,addons:h,combineParameters:Re,controlOrMetaKey:ke,controlOrMetaSymbol:Ae,eventMatchesShortcut:Le,eventToShortcut:Be,isMacLike:Pe,isShortcutTaken:Ne,keyToSymbol:Me,merge:we,mockChannel:Ge,optionOrAltSymbol:He,shortcutMatchesShortcut:De,shortcutToHumanString:Ke,types:L,useAddonState:Fe,useArgTypes:Ve,useArgs:We,useChannel:Ye,useGlobalTypes:B,useGlobals:I,useParameter:$e,useSharedState:Ue,useStoryPrepared:ze,useStorybookApi:P,useStorybookState:je}=__STORYBOOKAPI__;var Ze=__STORYBOOKCOMPONENTS__,{A:Je,ActionBar:Qe,AddonPanel:Xe,Badge:et,Bar:tt,Blockquote:ot,Button:rt,Code:at,DL:lt,Div:nt,DocumentWrapper:it,FlexBar:st,Form:ct,H1:ut,H2:mt,H3:pt,H4:dt,H5:bt,H6:St,HR:ft,IconButton:N,IconButtonSkeleton:yt,Icons:g,Img:Tt,LI:_t,Link:Ot,Loader:Ct,OL:vt,P:It,Placeholder:gt,Pre:Et,ResetWrapper:xt,ScrollArea:ht,Separator:M,Spaced:Rt,Span:kt,StorybookIcon:At,StorybookLogo:Lt,Symbols:Bt,SyntaxHighlighter:Pt,TT:Nt,TabBar:Mt,TabButton:wt,TabWrapper:Gt,Table:Ht,Tabs:Dt,TabsState:Kt,TooltipLinkList:w,TooltipMessage:Ft,TooltipNote:Vt,UL:Wt,WithTooltip:G,WithTooltipPure:Yt,Zoom:$t,codeCommon:Ut,components:zt,createCopyToClipboardFunction:jt,getStoryHref:qt,interleaveSeparators:Zt,nameSpaceClassNames:Jt,resetComponents:Qt,withReset:Xt}=__STORYBOOKCOMPONENTS__;var to=__STORYBOOKCLIENTLOGGER__,{deprecate:R,logger:oo,once:ro,pretty:ao}=__STORYBOOKCLIENTLOGGER__;var D=({active:o,title:t,icon:e,description:a,onClick:l})=>r.createElement(N,{active:o,title:a,onClick:l},e&&r.createElement(g,{icon:e}),t?`\xA0${t}`:null),K=["reset"],F=o=>o.filter(t=>!K.includes(t.type)).map(t=>t.value),T="addon-toolbars",V=async(o,t,e)=>{e&&e.next&&await o.setAddonShortcut(T,{label:e.next.label,defaultShortcut:e.next.keys,actionName:`${t}:next`,action:e.next.action}),e&&e.previous&&await o.setAddonShortcut(T,{label:e.previous.label,defaultShortcut:e.previous.keys,actionName:`${t}:previous`,action:e.previous.action}),e&&e.reset&&await o.setAddonShortcut(T,{label:e.reset.label,defaultShortcut:e.reset.keys,actionName:`${t}:reset`,action:e.reset.action})},W=o=>t=>{let{id:e,toolbar:{items:a,shortcuts:l}}=t,b=P(),[S,c]=I(),n=A([]),u=S[e],i=y(()=>{c({[e]:""})},[c]),p=y(()=>{let m=n.current,s=m.indexOf(u),f=s===m.length-1?0:s+1,d=n.current[f];c({[e]:d})},[n,u,c]),C=y(()=>{let m=n.current,s=m.indexOf(u),f=s>-1?s:0,d=f===0?m.length-1:f-1,E=n.current[d];c({[e]:E})},[n,u,c]);return x(()=>{l&&V(b,e,{next:{...l.next,action:p},previous:{...l.previous,action:C},reset:{...l.reset,action:i}})},[b,e,l,p,C,i]),x(()=>{n.current=F(a)},[]),r.createElement(o,{cycleValues:n.current,...t})},H=({currentValue:o,items:t})=>o!=null&&t.find(e=>e.value===o),Y=({currentValue:o,items:t})=>{let e=H({currentValue:o,items:t});if(e)return e.icon},$=({currentValue:o,items:t})=>{let e=H({currentValue:o,items:t});if(e)return e.title},U=({left:o,right:t,title:e,value:a,icon:l,hideIcon:b,onClick:S,currentValue:c})=>{let n=l&&r.createElement(g,{style:{opacity:1},icon:l}),u=o||t||e,i={id:a||c,active:c===a,onClick:S};return o&&(i.left=o),t&&(i.right=t),e&&(i.title=e),l&&!b&&(u&&!t?i.right=n:u&&!o?i.left=n:u||(i.right=n)),i},z=W(({id:o,name:t,description:e,toolbar:{icon:a,items:l,title:b,showName:S,preventDynamicIcon:c,dynamicTitle:n}})=>{let[u,i]=I(),p=u[o],C=!!p,m=a,s=b;c||(m=Y({currentValue:p,items:l})||m),S&&!s?(s=t,R("`showName` is deprecated as `name` will stop having dual purposes in the future. Please specify a `title` in `globalTypes` instead.")):!S&&!m&&!s&&(s=t,R(`Using the \`name\` "${t}" as toolbar title for backward compatibility. \`name\` will stop having dual purposes in the future. Please specify either a \`title\` or an \`icon\` in \`globalTypes\` instead.`)),n&&(s=$({currentValue:p,items:l})||s);let f=y(d=>{i({[o]:d})},[p,i]);return r.createElement(G,{placement:"top",trigger:"click",tooltip:({onHide:d})=>{let E=l.filter(({type:v})=>{let k=!0;return v==="reset"&&!p&&(k=!1),k}).map(v=>U({...v,currentValue:p,onClick:()=>{f(v.value),d()}}));return r.createElement(w,{links:E})},closeOnClick:!0},r.createElement(D,{active:C,description:e||"",icon:m,title:s||""}))}),j={type:"item",value:""},q=(o,t)=>({...t,name:t.name||o,description:t.description||o,toolbar:{...t.toolbar,items:t.toolbar.items.map(e=>{let a=typeof e=="string"?{value:e,title:e}:e;return a.type==="reset"&&t.toolbar.icon&&(a.icon=t.toolbar.icon,a.hideIcon=!0),{...j,...a}})}}),Z=()=>{let o=B(),t=Object.keys(o).filter(e=>!!o[e].toolbar);return t.length?r.createElement(r.Fragment,null,r.createElement(M,null),t.map(e=>{let a=q(e,o[e]);return r.createElement(z,{key:e,id:e,...a})})):null};h.register(T,()=>h.add(T,{title:T,type:L.TOOL,match:()=>!0,render:()=>r.createElement(Z,null)}));
//# sourceMappingURL=manager.mjs.map
