import{v as P}from"./v4.9dbcbc4f.js";import{w as c,k as L,a as $}from"./iframe.396c2e91.js";var I=()=>Math.random().toString(16).slice(2),w=class{constructor({transport:e,async:t=!1}={}){this.sender=I(),this.events={},this.data={},this.isAsync=t,e&&(this.transport=e,this.transport.setHandler(r=>this.handleEvent(r)))}get hasTransport(){return!!this.transport}addListener(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)}emit(e,...t){let r={type:e,args:t,from:this.sender},n={};t.length>=1&&t[0]&&t[0].options&&(n=t[0].options);let s=()=>{this.transport&&this.transport.send(r,n),this.handleEvent(r)};this.isAsync?setImmediate(s):s()}last(e){return this.data[e]}eventNames(){return Object.keys(this.events)}listenerCount(e){let t=this.listeners(e);return t?t.length:0}listeners(e){return this.events[e]||void 0}once(e,t){let r=this.onceListener(e,t);this.addListener(e,r)}removeAllListeners(e){e?this.events[e]&&delete this.events[e]:this.events={}}removeListener(e,t){let r=this.listeners(e);r&&(this.events[e]=r.filter(n=>n!==t))}on(e,t){this.addListener(e,t)}off(e,t){this.removeListener(e,t)}handleEvent(e){let t=this.listeners(e.type);t&&t.length&&t.forEach(r=>{r.apply(e,e.args)}),this.data[e.type]=e.args}onceListener(e,t){let r=(...n)=>(this.removeListener(e,r),t(...n));return r}},A=(e=>(e.CHANNEL_CREATED="channelCreated",e.CONFIG_ERROR="configError",e.STORY_INDEX_INVALIDATED="storyIndexInvalidated",e.STORY_SPECIFIED="storySpecified",e.SET_CONFIG="setConfig",e.SET_STORIES="setStories",e.SET_INDEX="setIndex",e.SET_CURRENT_STORY="setCurrentStory",e.CURRENT_STORY_WAS_SET="currentStoryWasSet",e.FORCE_RE_RENDER="forceReRender",e.FORCE_REMOUNT="forceRemount",e.PRELOAD_ENTRIES="preloadStories",e.STORY_PREPARED="storyPrepared",e.STORY_CHANGED="storyChanged",e.STORY_UNCHANGED="storyUnchanged",e.STORY_RENDERED="storyRendered",e.STORY_MISSING="storyMissing",e.STORY_ERRORED="storyErrored",e.STORY_THREW_EXCEPTION="storyThrewException",e.STORY_RENDER_PHASE_CHANGED="storyRenderPhaseChanged",e.PLAY_FUNCTION_THREW_EXCEPTION="playFunctionThrewException",e.UPDATE_STORY_ARGS="updateStoryArgs",e.STORY_ARGS_UPDATED="storyArgsUpdated",e.RESET_STORY_ARGS="resetStoryArgs",e.SET_GLOBALS="setGlobals",e.UPDATE_GLOBALS="updateGlobals",e.GLOBALS_UPDATED="globalsUpdated",e.REGISTER_SUBSCRIPTION="registerSubscription",e.PREVIEW_KEYDOWN="previewKeydown",e.SELECT_STORY="selectStory",e.STORIES_COLLAPSE_ALL="storiesCollapseAll",e.STORIES_EXPAND_ALL="storiesExpandAll",e.DOCS_RENDERED="docsRendered",e.SHARED_STATE_CHANGED="sharedStateChanged",e.SHARED_STATE_SET="sharedStateSet",e.NAVIGATE_URL="navigateUrl",e.UPDATE_QUERY_PARAMS="updateQueryParams",e))(A||{}),{CHANNEL_CREATED:de,CONFIG_ERROR:Ee,STORY_INDEX_INVALIDATED:ce,STORY_SPECIFIED:Re,SET_STORIES:Se,SET_INDEX:Te,SET_CONFIG:b,SET_CURRENT_STORY:pe,CURRENT_STORY_WAS_SET:ue,FORCE_RE_RENDER:_e,FORCE_REMOUNT:Oe,STORY_PREPARED:Ae,STORY_CHANGED:ge,STORY_UNCHANGED:fe,PRELOAD_ENTRIES:me,STORY_RENDERED:Ne,STORY_MISSING:ve,STORY_ERRORED:ye,STORY_THREW_EXCEPTION:De,STORY_RENDER_PHASE_CHANGED:Ce,PLAY_FUNCTION_THREW_EXCEPTION:Pe,UPDATE_STORY_ARGS:Le,STORY_ARGS_UPDATED:$e,RESET_STORY_ARGS:Ie,SET_GLOBALS:we,UPDATE_GLOBALS:be,GLOBALS_UPDATED:Ye,REGISTER_SUBSCRIPTION:Ge,PREVIEW_KEYDOWN:Ue,SELECT_STORY:He,STORIES_COLLAPSE_ALL:Fe,STORIES_EXPAND_ALL:je,DOCS_RENDERED:ke,SHARED_STATE_CHANGED:xe,SHARED_STATE_SET:Be,NAVIGATE_URL:We,UPDATE_QUERY_PARAMS:Xe}=A,{LOGLEVEL:Y,console:d}=c,h={trace:1,debug:2,info:3,warn:4,error:5,silent:10},G=Y,E=h[G]||h.info,R={trace:(e,...t)=>E<=h.trace&&d.trace(e,...t),debug:(e,...t)=>E<=h.debug&&d.debug(e,...t),info:(e,...t)=>E<=h.info&&d.info(e,...t),warn:(e,...t)=>E<=h.warn&&d.warn(e,...t),error:(e,...t)=>E<=h.error&&d.error(e,...t),log:(e,...t)=>E<h.silent&&d.log(e,...t)};function U(){let e={setHandler:()=>{},send:()=>{}};return new w({transport:e})}var H=(e=>(e.TAB="tab",e.PANEL="panel",e.TOOL="tool",e.TOOLEXTRA="toolextra",e.PREVIEW="preview",e.NOTES_ELEMENT="notes-element",e))(H||{}),F=class{constructor(){this.loaders={},this.elements={},this.config={},this.getChannel=()=>(this.channel||this.setChannel(U()),this.channel),this.getServerChannel=()=>{if(!this.serverChannel)throw new Error("Accessing non-existent serverChannel");return this.serverChannel},this.ready=()=>this.promise,this.hasChannel=()=>!!this.channel,this.hasServerChannel=()=>!!this.serverChannel,this.setChannel=e=>{this.channel=e,this.resolve()},this.setServerChannel=e=>{this.serverChannel=e},this.getElements=e=>(this.elements[e]||(this.elements[e]={}),this.elements[e]),this.addPanel=(e,t)=>{this.add(e,{type:"panel",...t})},this.add=(e,t)=>{let{type:r}=t,n=this.getElements(r);n[e]={id:e,...t}},this.setConfig=e=>{Object.assign(this.config,e),this.hasChannel()&&this.getChannel().emit(b,e)},this.getConfig=()=>this.config,this.register=(e,t)=>{this.loaders[e]&&R.warn(`${e} was loaded twice, this could have bad side-effects`),this.loaders[e]=t},this.loadAddons=e=>{Object.values(this.loaders).forEach(t=>t(e))},this.promise=new Promise(e=>{this.resolve=()=>e(this.getChannel())})}},S="__STORYBOOK_ADDONS";function j(){return c[S]||(c[S]=new F),c[S]}var k=j(),x=({name:e,parameterName:t,wrapper:r,skipIfNoParametersOrOptions:n=!1})=>{let s=a=>(i,o)=>{let l=o.parameters&&o.parameters[t];return l&&l.disable||n&&!a&&!l?i(o):r(i,o,{options:a,parameters:l})};return(...a)=>typeof a[0]=="function"?s()(...a):(...i)=>{if(i.length>1)return a.length>1?s(a)(...i):s(...a)(...i);throw new Error(`Passing stories directly into ${e}() is not allowed,
        instead use addDecorator(${e}) and pass options with the '${t}' parameter`)}},{window:B}=c,W=(e,t)=>e.length===t.length&&e.every((r,n)=>r===t[n]),g=()=>new Error("Storybook preview hooks can only be called inside decorators and story functions.");function X(){return B.STORYBOOK_HOOKS_CONTEXT||null}function f(){let e=X();if(e==null)throw g();return e}function M(e,t,r){let n=f();if(n.currentPhase==="MOUNT"){r!=null&&!Array.isArray(r)&&R.warn(`${e} received a final argument that is not an array (instead, received ${r}). When specified, the final argument must be an array.`);let s={name:e,deps:r};return n.currentHooks.push(s),t(s),s}if(n.currentPhase==="UPDATE"){let s=n.getNextHook();if(s==null)throw new Error("Rendered more hooks than during the previous render.");return s.name!==e&&R.warn(`Storybook has detected a change in the order of Hooks${n.currentDecoratorName?` called by ${n.currentDecoratorName}`:""}. This will lead to bugs and errors if not fixed.`),r!=null&&s.deps==null&&R.warn(`${e} received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.`),r!=null&&s.deps!=null&&r.length!==s.deps.length&&R.warn(`The final argument passed to ${e} changed size between renders. The order and size of this array must remain constant.
Previous: ${s.deps}
Incoming: ${r}`),(r==null||s.deps==null||!W(r,s.deps))&&(t(s),s.deps=r),s}throw g()}function V(e,t,r){let{memoizedState:n}=M(e,s=>{s.memoizedState=t()},r);return n}function K(e,t){let r=f(),n=V("useEffect",()=>({create:e}),t);r.currentEffects.includes(n)||r.currentEffects.push(n)}var z="actions",Q="storybook/actions",q=`${Q}/action-event`,T={depth:10,clearOnStoryChange:!0,limit:50},m=(e,t)=>{let r=Object.getPrototypeOf(e);return!r||t(r)?r:m(r,t)},J=e=>Boolean(typeof e=="object"&&e&&m(e,t=>/^Synthetic(?:Base)?Event$/.test(t.constructor.name))&&typeof e.persist=="function"),Z=e=>{if(J(e)){let t=Object.create(e.constructor.prototype,Object.getOwnPropertyDescriptors(e));t.persist();let r=Object.getOwnPropertyDescriptor(t,"view"),n=r==null?void 0:r.value;return typeof n=="object"&&(n==null?void 0:n.constructor.name)==="Window"&&Object.defineProperty(t,"view",{...r,value:Object.create(n.constructor.prototype)}),t}return e};function p(e,t={}){let r={...T,...t},n=function(...s){let a=k.getChannel(),i=P(),o=5,l=s.map(Z),D=s.length>1?l:l[0],C={id:i,count:0,data:{name:e,args:D},options:{...r,maxDepth:o+(r.depth||3),allowFunction:r.allowFunction||!1}};a.emit(q,C)};return n.isAction=!0,n}var u=(...e)=>{let t=T,r=e;r.length===1&&Array.isArray(r[0])&&([r]=r),r.length!==1&&typeof r[r.length-1]!="string"&&(t={...T,...r.pop()});let n=r[0];(r.length!==1||typeof n=="string")&&(n={},r.forEach(a=>{n[a]=a}));let s={};return Object.keys(n).forEach(a=>{s[a]=p(n[a],t)}),s},{document:_,Element:O}=c,ee=/^(\S+)\s*(.*)$/,te=O!=null&&!O.prototype.matches,re=te?"msMatchesSelector":"matches",N=(e,t)=>{if(e[re](t))return!0;let r=e.parentElement;return r?N(r,t):!1},ne=(e,...t)=>{let r=e(...t);return Object.entries(r).map(([n,s])=>{let[a,i,o]=n.match(ee)||[];return{eventName:i,handler:l=>{(!o||N(l.target,o))&&s(l)}}})},v=L((e,...t)=>{let r=_&&_.getElementById("storybook-root");K(()=>{if(r!=null){let n=ne(e,...t);return n.forEach(({eventName:s,handler:a})=>r.addEventListener(s,a)),()=>n.forEach(({eventName:s,handler:a})=>r.removeEventListener(s,a))}},[r,e,t])},$`
    withActions(options) is deprecated, please configure addon-actions using the addParameter api:

    addParameters({
      actions: {
        handles: options
      },
    });
  `),se=(e,t)=>{t&&v(e,t)},ae=x({name:"withActions",parameterName:z,skipIfNoParametersOrOptions:!0,wrapper:(e,t,{parameters:r,options:n})=>(se(u,n),r&&r.handles&&v(u,...r.handles),e(t))}),Me=[ae],y=(e,t)=>typeof t[e]>"u"&&!(e in t),ie=e=>{let{initialArgs:t,argTypes:r,parameters:{actions:n}}=e;if(!n||n.disable||!n.argTypesRegex||!r)return{};let s=new RegExp(n.argTypesRegex);return Object.entries(r).filter(([a])=>!!s.test(a)).reduce((a,[i,o])=>(y(i,t)&&(a[i]=p(i)),a),{})},oe=e=>{let{initialArgs:t,argTypes:r,parameters:{actions:n}}=e;return(n==null?void 0:n.disable)||!r?{}:Object.entries(r).filter(([s,a])=>!!a.action).reduce((s,[a,i])=>(y(a,t)&&(s[a]=p(typeof i.action=="string"?i.action:a)),s),{})},Ve=[oe,ie];export{Ve as argsEnhancers,Me as decorators};
//# sourceMappingURL=preview.b392f2ce.js.map
