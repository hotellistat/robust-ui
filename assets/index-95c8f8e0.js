import{d as R,a as d,s as I,v as M,o as b,e as k,j as C,n as V,G as W,Q as J,b as H,t as se,C as ue,R as re,x as ce,F as z,l as G,g as ie,y as N,p as ve,O as L}from"./vue.esm-bundler-17561e39.js";function E(e){let t={r:0,g:0,b:0,a:1};/#/.test(e)?t=fe(e):/rgb/.test(e)?t=U(e):typeof e=="string"?t=U(`rgba(${e})`):Object.prototype.toString.call(e)==="[object Object]"&&(t=e);const{r:l,g:n,b:o,a:s}=t,{h:u,s:f,v:r}=pe(t);return{r:l,g:n,b:o,a:s===void 0?1:s,h:u,s:f,v:r}}function X(e){const t=document.createElement("canvas"),l=t.getContext("2d"),n=e*2;return t.width=n,t.height=n,l.fillStyle="#ffffff",l.fillRect(0,0,n,n),l.fillStyle="#ccd5db",l.fillRect(0,0,e,e),l.fillRect(e,e,e,e),t}function q(e,t,l,n,o,s){const u=e==="l",f=t.createLinearGradient(0,0,u?l:0,u?0:n);f.addColorStop(.01,o),f.addColorStop(.99,s),t.fillStyle=f,t.fillRect(0,0,l,n)}function de({r:e,g:t,b:l},n){const o=u=>("0"+Number(u).toString(16)).slice(-2),s=`#${o(e)}${o(t)}${o(l)}`;return n?s.toUpperCase():s}function fe(e){e=e.slice(1);const t=l=>parseInt(l,16)||0;return{r:t(e.slice(0,2)),g:t(e.slice(2,4)),b:t(e.slice(4,6))}}function U(e){return typeof e=="string"?(e=(/rgba?\((.*?)\)/.exec(e)||["","0,0,0,1"])[1].split(","),{r:Number(e[0])||0,g:Number(e[1])||0,b:Number(e[2])||0,a:Number(e[3]?e[3]:1)}):e}function pe({r:e,g:t,b:l}){e=e/255,t=t/255,l=l/255;const n=Math.max(e,t,l),o=Math.min(e,t,l),s=n-o;let u=0;n===o?u=0:n===e?t>=l?u=60*(t-l)/s:u=60*(t-l)/s+360:n===t?u=60*(l-e)/s+120:n===l&&(u=60*(e-t)/s+240),u=Math.floor(u);const f=parseFloat((n===0?0:1-o/n).toFixed(2)),r=parseFloat(n.toFixed(2));return{h:u,s:f,v:r}}const me=["onMousedown"],Y=R({__name:"CoorPickerSaturation",props:{color:{type:String,default:"#000000"},hsv:{type:Object,default:null},size:{type:Number,default:152}},emits:["selectSaturation"],setup(e,{emit:t}){const l=e,n=d({}),{size:o,hsv:s,color:u}=I(l),f=d(),r=d(),v=h=>{const m=h,i=o.value,g=m.getContext("2d");m.width=i,m.height=i,g.fillStyle=u.value,g.fillRect(0,0,i,i),q("l",g,i,i,"#FFFFFF","rgba(255,255,255,0)"),q("p",g,i,i,"rgba(0,0,0,0)","#000000")},c=()=>{n.value={left:s.value.s*o.value-5+"px",top:(1-s.value.v)*o.value-5+"px"}},_=h=>{const{top:m,left:i}=f.value.getBoundingClientRect(),g=h.target.getContext("2d"),p=S=>{let w=S.clientX-i,x=S.clientY-m;w<0&&(w=0),x<0&&(x=0),w>o.value&&(w=o.value),x>o.value&&(x=o.value),n.value={left:w-5+"px",top:x-5+"px"};const B=g.getImageData(Math.min(w,o.value-1),Math.min(x,o.value-1),1,1),[$,D,A]=B.data;t("selectSaturation",{r:$,g:D,b:A})};p(h);const F=()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",F)};document.addEventListener("mousemove",p),document.addEventListener("mouseup",F)};return M(()=>{v(r.value),c()}),(h,m)=>(b(),k("div",{ref_key:"saturation",ref:f,class:"saturation",onMousedown:W(_,["prevent","stop"])},[C("canvas",{ref_key:"canvasSaturation",ref:r},null,512),C("div",{style:V(n.value),class:"slide"},null,4)],40,me))}});Y.__docgenInfo={exportName:"default",displayName:"CoorPickerSaturation",description:"",tags:{},props:[{name:"color",type:{name:"string"},defaultValue:{func:!1,value:"'#000000'"}},{name:"hsv",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"size",type:{name:"number"},defaultValue:{func:!1,value:"152"}}],events:[{name:"selectSaturation"}]};const he=["onMousedown"],Q=R({__name:"ColorPickerHue",props:{hsv:{type:Object,default:null},width:{type:Number,default:15},height:{type:Number,default:152}},emits:["selectHue"],setup(e,{emit:t}){const l=e,n=d({}),o=d(),{height:s,width:u,hsv:f}=I(l),r=d(),v=h=>{const m=h,i=u.value,g=s.value,p=m.getContext("2d");m.width=i,m.height=g;const F=p.createLinearGradient(0,0,0,g);F.addColorStop(0,"#FF0000"),F.addColorStop(.17*1,"#FF00FF"),F.addColorStop(.17*2,"#0000FF"),F.addColorStop(.17*3,"#00FFFF"),F.addColorStop(.17*4,"#00FF00"),F.addColorStop(.17*5,"#FFFF00"),F.addColorStop(1,"#FF0000"),p.fillStyle=F,p.fillRect(0,0,i,g)},c=()=>{n.value={top:(1-f.value.h/360)*s.value-2+"px"}},_=h=>{const{top:m}=r.value.getBoundingClientRect(),i=h.target.getContext("2d"),g=F=>{let S=F.clientY-m;S<0&&(S=0),S>s.value&&(S=s.value),n.value={top:S-2+"px"};const w=i.getImageData(0,Math.min(S,s.value-1),1,1),[x,B,$]=w.data;t("selectHue",{r:x,g:B,b:$})};g(h);const p=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",p)};document.addEventListener("mousemove",g),document.addEventListener("mouseup",p)};return M(()=>{v(o.value),c()}),(h,m)=>(b(),k("div",{ref_key:"hue",ref:r,class:"hue",onMousedown:W(_,["prevent","stop"])},[C("canvas",{ref_key:"canvasHue",ref:o},null,512),C("div",{style:V(n.value),class:"slide"},null,4)],40,he))}});Q.__docgenInfo={exportName:"default",displayName:"ColorPickerHue",description:"",tags:{},props:[{name:"hsv",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"width",type:{name:"number"},defaultValue:{func:!1,value:"15"}},{name:"height",type:{name:"number"},defaultValue:{func:!1,value:"152"}}],events:[{name:"selectHue"}]};const Z=R({__name:"ColorPickerPreview",props:{color:{type:String,default:"#000000"},width:{type:Number,default:100},height:{type:Number,default:30}},setup(e){const t=e,l=d(5),{color:n,width:o,height:s}=I(t),u=d(),f=r=>{const v=r,c=o.value,_=s.value,h=l.value,m=X(h),i=v.getContext("2d");v.width=c,v.height=_,i.fillStyle=i.createPattern(m,"repeat"),i.fillRect(0,0,c,_),i.fillStyle=n.value,i.fillRect(0,0,c,_)};return M(()=>{J(()=>{f(u.value)}),f(u.value)}),(r,v)=>(b(),k("canvas",{ref_key:"canvas",ref:u},null,512))}});Z.__docgenInfo={exportName:"default",displayName:"ColorPickerPreview",description:"",tags:{},props:[{name:"color",type:{name:"string"},defaultValue:{func:!1,value:"'#000000'"}},{name:"width",type:{name:"number"},defaultValue:{func:!1,value:"100"}},{name:"height",type:{name:"number"},defaultValue:{func:!1,value:"30"}}]};const ge={class:"color-type"},ye={class:"name"},j=R({__name:"ColorPickerBox",props:{name:{type:String,default:""},color:{type:String,default:""}},emits:["inputColor"],setup(e,{emit:t}){const l=e,n=H({get(){return l.color||""},set(o){t("inputColor",o)}});return(o,s)=>(b(),k("div",ge,[C("span",ye,se(e.name),1),ue(C("input",{"onUpdate:modelValue":s[0]||(s[0]=u=>n.value=u),class:"value"},null,512),[[re,n.value]])]))}});j.__docgenInfo={exportName:"default",displayName:"ColorPickerBox",description:"",tags:{},props:[{name:"name",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"color",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],events:[{name:"inputColor"}]};const _e={class:"colors"},Fe=["onClick"],Ce={key:0,class:"colors history"},Se=["onClick"],ee=R({__name:"ColorPickerColors",props:{color:{type:String,default:"#000000"},colorsDefault:{type:Array,required:!0},colorsHistoryKey:{type:String,default:""}},emits:["selectColor"],setup(e,{emit:t}){const l=e,n=d(),o=d([]),s=d();l.colorsHistoryKey&&localStorage&&(o.value=JSON.parse(localStorage.getItem(l.colorsHistoryKey))||[]),s.value=X(4).toDataURL(),ce(()=>{u(n.value)});const u=r=>{if(!r)return;const v=o.value||[],c=v.indexOf(r);c>=0&&v.splice(c,1),v.length>=8&&(v.length=7),v.unshift(r),o.value=v||[],localStorage&&l.colorsHistoryKey&&localStorage.setItem(l.colorsHistoryKey,JSON.stringify(v))},f=r=>{t("selectColor",r)};return(r,v)=>(b(),k("div",null,[C("ul",_e,[(b(!0),k(z,null,G(e.colorsDefault,c=>(b(),k("li",{key:c,class:"item",onClick:_=>f(c)},[C("div",{style:V({background:`url(${s.value})`}),class:"alpha"},null,4),C("div",{style:V({background:c}),class:"color"},null,4)],8,Fe))),128))]),o.value.length?(b(),k("ul",Ce,[(b(!0),k(z,null,G(o.value,c=>(b(),k("li",{key:c,class:"item",onClick:_=>f(c)},[C("div",{style:V({background:`url(${s.value})`}),class:"alpha"},null,4),C("div",{style:V({background:c}),class:"color"},null,4)],8,Se))),128))])):ie("",!0)]))}});ee.__docgenInfo={exportName:"default",displayName:"ColorPickerColors",description:"",tags:{},props:[{name:"color",type:{name:"string"},defaultValue:{func:!1,value:"'#000000'"}},{name:"colorsDefault",type:{name:"string[]"},required:!0},{name:"colorsHistoryKey",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],events:[{name:"selectColor"}]};const xe={class:"color-set"},be=R({__name:"index",props:{color:{type:String,default:"#000000"},theme:{type:String,default:"dark"},colorsDefault:{type:Array,default:()=>["#000000","#FFFFFF","#FF1900","#F47365","#FFB243","#FFE623","#6EFF2A","#1BC7B1","#00BEFF","#2E81FF","#5D61FF","#FF89CF","#FC3CAD","#BF3DCE","#8E00A7"]},colorsHistoryKey:{type:String,default:"vue-colorpicker-history"}},emits:["changeColor"],setup(e,{emit:t}){const l=e,n=d(15),o=d(152),s=d(20),u=d(""),f=d(""),r=d(0),v=d(0),c=d(0),_=d(1),h=d(0),m=d(0),i=d(0),g=d(),p=d(),{theme:F,color:S}=I(l),w=H(()=>F.value==="light"),x=H(()=>o.value+(n.value+8)*2),B=H(()=>x.value-s.value),$=H(()=>({r:r.value,g:v.value,b:c.value,a:_.value})),D=H(()=>({h:h.value,s:m.value,v:i.value})),A=H(()=>`rgb(${r.value}, ${v.value}, ${c.value})`),K=H(()=>`${r.value}, ${v.value}, ${c.value}`),O=H(()=>`rgb(${K.value})`),T=H(()=>de($.value,!0)),P=()=>{f.value=T.value,u.value=K.value};M(()=>{const y=E(S.value);r.value=y.r,v.value=y.g,c.value=y.b,_.value=y.a,h.value=y.h,m.value=y.s,i.value=y.v,P()}),J(()=>{t("changeColor",{rgba:$.value,hsv:D.value,hex:f.value})});const te=y=>{const a=E(y);r.value=a.r,v.value=a.g,c.value=a.b,_.value=a.a,h.value=a.h,m.value=a.s,i.value=a.v,P()},ae=y=>{const a=E(y);r.value=a.r,v.value=a.g,c.value=a.b,_.value=a.a,h.value=a.h,m.value=a.s,i.value=a.v,P(),L(()=>{p.value.renderColor(p.value.canvasSaturation),p.value.renderSlide()})},le=y=>{const a=E(y);r.value=a.r,v.value=a.g,c.value=a.b,_.value=a.a,h.value=a.h,m.value=a.s,i.value=a.v,f.value=y,u.value=K.value,L(()=>{p.value.renderColor(p.value.canvasSaturation),p.value.renderSlide(),g.value.renderSlide()})},oe=y=>{const a=E(y);r.value=a.r,v.value=a.g,c.value=a.b,_.value=a.a,h.value=a.h,m.value=a.s,i.value=a.v,f.value=T.value,u.value=`${r.value}, ${v.value}, ${c.value}`,L(()=>{p.value.renderColor(p.value.canvasSaturation),p.value.renderSlide(),g.value.renderSlide()})},ne=y=>{const a=E(y);r.value=a.r,v.value=a.g,c.value=a.b,_.value=a.a,h.value=a.h,m.value=a.s,i.value=a.v,P(),L(()=>{p.value.renderColor(p.value.canvasSaturation),p.value.renderSlide(),g.value.renderSlide()})};return(y,a)=>(b(),k("div",{class:ve(["hu-color-picker rounded bg-gray-800 shadow",{light:w.value}]),style:V({width:x.value+"px"})},[C("div",xe,[N(Y,{ref_key:"saturation",ref:p,color:A.value,hsv:D.value,size:o.value,onSelectSaturation:te},null,8,["color","hsv","size"]),N(Q,{ref_key:"hue",ref:g,hsv:D.value,width:n.value,height:o.value,onSelectHue:ae},null,8,["hsv","width","height"])]),C("div",{style:V({height:s.value+"px"}),class:"color-show"},[N(Z,{color:O.value,width:B.value,height:s.value},null,8,["color","width","height"])],4),N(j,{name:"HEX",color:f.value,onInputColor:le},null,8,["color"]),N(j,{name:"RGBA",color:u.value,onInputColor:oe},null,8,["color"]),N(ee,{color:O.value,"colors-default":e.colorsDefault,"colors-history-key":e.colorsHistoryKey,onSelectColor:ne},null,8,["color","colors-default","colors-history-key"])],6))}});be.__docgenInfo={exportName:"default",displayName:"ColorPicker",description:"",tags:{},props:[{name:"color",type:{name:"string"},defaultValue:{func:!1,value:"'#000000'"}},{name:"theme",type:{name:"string"},defaultValue:{func:!1,value:"'dark'"}},{name:"colorsDefault",type:{name:"string[]"},defaultValue:{func:!0,value:`() => [
  '#000000',
  '#FFFFFF',
  '#FF1900',
  '#F47365',
  '#FFB243',
  '#FFE623',
  '#6EFF2A',
  '#1BC7B1',
  '#00BEFF',
  '#2E81FF',
  '#5D61FF',
  '#FF89CF',
  '#FC3CAD',
  '#BF3DCE',
  '#8E00A7',
]`}},{name:"colorsHistoryKey",type:{name:"string"},defaultValue:{func:!1,value:"'vue-colorpicker-history'"}}],events:[{name:"changeColor"}]};export{be as _};
//# sourceMappingURL=index-95c8f8e0.js.map
