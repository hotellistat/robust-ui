import{J as G,K as N,L as Y,r as g,w as L,M as X,N as K,u as q,o as k,O as J,P as D,c as w,Q}from"./vue.esm-bundler-b2033fd2.js";function P(e){return X()?(K(e),!0):!1}function y(e){return typeof e=="function"?e():q(e)}const M=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const U=Object.prototype.toString,Z=e=>U.call(e)==="[object Object]",b=()=>{},S=ee();function ee(){var e,t;return M&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function te(e,t){function n(...o){return new Promise((r,c)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(r).catch(c)})}return n}const ne=e=>e();function oe(e,t={}){let n,o,r=b;const c=s=>{clearTimeout(s),r(),r=b};return s=>{const f=y(e),d=y(t.maxWait);return n&&c(n),f<=0||d!==void 0&&d<=0?(o&&(c(o),o=null),Promise.resolve(s())):new Promise((p,u)=>{r=t.rejectOnCancel?u:p,d&&!o&&(o=setTimeout(()=>{n&&c(n),o=null,p(s())},d)),n=setTimeout(()=>{o&&c(o),o=null,p(s())},f)})}}function re(e){return e||D()}function se(...e){if(e.length!==1)return G(...e);const t=e[0];return typeof t=="function"?N(Y(()=>({get:t,set:b}))):g(t)}function ce(e,t,n={}){const{eventFilter:o=ne,...r}=n;return L(e,te(o,t),r)}function ie(e,t=!0,n){re()?k(e,n):t?e():J(e)}function we(e,t,n={}){const{debounce:o=0,maxWait:r=void 0,...c}=n;return ce(e,t,{...c,eventFilter:oe(o,{maxWait:r})})}function h(e){var t;const n=y(e);return(t=n==null?void 0:n.$el)!=null?t:n}const T=M?window:void 0;function x(...e){let t,n,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,r]=e,t=T):[t,n,o,r]=e,!t)return b;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const c=[],a=()=>{c.forEach(p=>p()),c.length=0},s=(p,u,i,l)=>(p.addEventListener(u,i,l),()=>p.removeEventListener(u,i,l)),f=L(()=>[h(t),y(r)],([p,u])=>{if(a(),!p)return;const i=Z(u)?{...u}:u;c.push(...n.flatMap(l=>o.map(v=>s(p,l,v,i))))},{immediate:!0,flush:"post"}),d=()=>{f(),a()};return P(d),d}let C=!1;function ge(e,t,n={}){const{window:o=T,ignore:r=[],capture:c=!0,detectIframe:a=!1}=n;if(!o)return b;S&&!C&&(C=!0,Array.from(o.document.body.children).forEach(i=>i.addEventListener("click",b)),o.document.documentElement.addEventListener("click",b));let s=!0;const f=i=>r.some(l=>{if(typeof l=="string")return Array.from(o.document.querySelectorAll(l)).some(v=>v===i.target||i.composedPath().includes(v));{const v=h(l);return v&&(i.target===v||i.composedPath().includes(v))}}),p=[x(o,"click",i=>{const l=h(e);if(!(!l||l===i.target||i.composedPath().includes(l))){if(i.detail===0&&(s=!f(i)),!s){s=!0;return}t(i)}},{passive:!0,capture:c}),x(o,"pointerdown",i=>{const l=h(e);s=!f(i)&&!!(l&&!i.composedPath().includes(l))},{passive:!0}),a&&x(o,"blur",i=>{setTimeout(()=>{var l;const v=h(e);((l=o.document.activeElement)==null?void 0:l.tagName)==="IFRAME"&&!(v!=null&&v.contains(o.document.activeElement))&&t(i)},0)})].filter(Boolean);return()=>p.forEach(i=>i())}function ue(){const e=g(!1);return D()&&k(()=>{e.value=!0}),e}function le(e){const t=ue();return w(()=>(t.value,!!e()))}function ae(e,t,n={}){const{window:o=T,...r}=n;let c;const a=le(()=>o&&"ResizeObserver"in o),s=()=>{c&&(c.disconnect(),c=void 0)},f=w(()=>Array.isArray(e)?e.map(u=>h(u)):[h(e)]),d=L(f,u=>{if(s(),a.value&&o){c=new ResizeObserver(t);for(const i of u)i&&c.observe(i,r)}},{immediate:!0,flush:"post",deep:!0}),p=()=>{s(),d()};return P(p),{isSupported:a,stop:p}}function fe(e,t={width:0,height:0},n={}){const{window:o=T,box:r="content-box"}=n,c=w(()=>{var u,i;return(i=(u=h(e))==null?void 0:u.namespaceURI)==null?void 0:i.includes("svg")}),a=g(t.width),s=g(t.height),{stop:f}=ae(e,([u])=>{const i=r==="border-box"?u.borderBoxSize:r==="content-box"?u.contentBoxSize:u.devicePixelContentBoxSize;if(o&&c.value){const l=h(e);if(l){const v=o.getComputedStyle(l);a.value=Number.parseFloat(v.width),s.value=Number.parseFloat(v.height)}}else if(i){const l=Array.isArray(i)?i:[i];a.value=l.reduce((v,{inlineSize:m})=>v+m,0),s.value=l.reduce((v,{blockSize:m})=>v+m,0)}else a.value=u.contentRect.width,s.value=u.contentRect.height},n);ie(()=>{const u=h(e);u&&(a.value="offsetWidth"in u?u.offsetWidth:t.width,s.value="offsetHeight"in u?u.offsetHeight:t.height)});const d=L(()=>h(e),u=>{a.value=u?t.width:0,s.value=u?t.height:0});function p(){f(),d()}return{width:a,height:s,stop:p}}function E(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}function _(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!n||n.tagName==="BODY"?!1:_(n)}}function de(e){const t=e||window.event,n=t.target;return _(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const O=new WeakMap;function ye(e,t=!1){const n=g(t);let o=null,r;L(se(e),s=>{const f=E(y(s));if(f){const d=f;O.get(d)||O.set(d,r),n.value&&(d.style.overflow="hidden")}},{immediate:!0});const c=()=>{const s=E(y(e));!s||n.value||(S&&(o=x(s,"touchmove",f=>{de(f)},{passive:!1})),s.style.overflow="hidden",n.value=!0)},a=()=>{var s;const f=E(y(e));!f||!n.value||(S&&(o==null||o()),f.style.overflow=(s=O.get(f))!=null?s:"",O.delete(f),n.value=!1)};return P(a),w({get(){return n.value},set(s){s?c():a()}})}function be(e,t){const{containerStyle:n,wrapperProps:o,scrollTo:r,calculateRange:c,currentList:a,containerRef:s}="itemHeight"in t?he(t,e):pe(t,e);return{list:a,scrollTo:r,containerProps:{ref:s,onScroll:()=>{c()},style:n},wrapperProps:o}}function F(e){const t=g(null),n=fe(t),o=g([]),r=Q(e);return{state:g({start:0,end:10}),source:r,currentList:o,size:n,containerRef:t}}function V(e,t,n){return o=>{if(typeof n=="number")return Math.ceil(o/n);const{start:r=0}=e.value;let c=0,a=0;for(let s=r;s<t.value.length;s++){const f=n(s);if(c+=f,a=s,c>o)break}return a-r}}function z(e,t){return n=>{if(typeof t=="number")return Math.floor(n/t)+1;let o=0,r=0;for(let c=0;c<e.value.length;c++){const a=t(c);if(o+=a,o>=n){r=c;break}}return r+1}}function H(e,t,n,o,{containerRef:r,state:c,currentList:a,source:s}){return()=>{const f=r.value;if(f){const d=n(e==="vertical"?f.scrollTop:f.scrollLeft),p=o(e==="vertical"?f.clientHeight:f.clientWidth),u=d-t,i=d+p+t;c.value={start:u<0?0:u,end:i>s.value.length?s.value.length:i},a.value=s.value.slice(c.value.start,c.value.end).map((l,v)=>({data:l,index:v+c.value.start}))}}}function I(e,t){return n=>typeof e=="number"?n*e:t.value.slice(0,n).reduce((r,c,a)=>r+e(a),0)}function B(e,t,n){L([e.width,e.height,t],()=>{n()})}function $(e,t){return w(()=>typeof e=="number"?t.value.length*e:t.value.reduce((n,o,r)=>n+e(r),0))}const ve={horizontal:"scrollLeft",vertical:"scrollTop"};function j(e,t,n,o){return r=>{o.value&&(o.value[ve[e]]=n(r),t())}}function pe(e,t){const n=F(t),{state:o,source:r,currentList:c,size:a,containerRef:s}=n,f={overflowX:"auto"},{itemWidth:d,overscan:p=5}=e,u=V(o,r,d),i=z(r,d),l=H("horizontal",p,i,u,n),v=I(d,r),m=w(()=>v(o.value.start)),W=$(d,r);B(a,t,l);const R=j("horizontal",l,v,s),A=w(()=>({style:{height:"100%",width:`${W.value-m.value}px`,marginLeft:`${m.value}px`,display:"flex"}}));return{scrollTo:R,calculateRange:l,wrapperProps:A,containerStyle:f,currentList:c,containerRef:s}}function he(e,t){const n=F(t),{state:o,source:r,currentList:c,size:a,containerRef:s}=n,f={overflowY:"auto"},{itemHeight:d,overscan:p=5}=e,u=V(o,r,d),i=z(r,d),l=H("vertical",p,i,u,n),v=I(d,r),m=w(()=>v(o.value.start)),W=$(d,r);B(a,t,l);const R=j("vertical",l,v,s),A=w(()=>({style:{width:"100%",height:`${W.value-m.value}px`,marginTop:`${m.value}px`}}));return{calculateRange:l,scrollTo:R,containerStyle:f,wrapperProps:A,currentList:c,containerRef:s}}export{be as a,ge as o,ye as u,we as w};
