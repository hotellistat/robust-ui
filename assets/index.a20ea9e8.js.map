{"version":3,"file":"index.a20ea9e8.js","sources":["../../src/components/WidgetWrapper/index.vue"],"sourcesContent":["<script lang=\"ts\">\nexport default {\n  name: 'RobustWidgetWrapper',\n}\n</script>\n\n<script lang=\"ts\" setup>\nimport { ref } from 'vue'\nimport RobustPopper from '../Popper'\nimport { PhDotsThreeVertical } from '@dnlsndr/vue-phosphor-icons'\nimport { onClickOutside } from '@vueuse/core'\n\ndefineProps({\n  title: {\n    type: String,\n    default: undefined,\n  },\n})\n\nconst emit = defineEmits(['blur'])\n\nconst open = ref(false)\nconst contextButtonRef = ref()\nconst popperRef = ref()\n\nonClickOutside(popperRef, (event) => {\n  if (open.value) {\n    if (contextButtonRef.value.contains(event.target)) {\n      event.stopPropagation()\n      event.preventDefault()\n    }\n    closeDropdown()\n    emit('blur')\n  }\n})\n\nconst closeDropdown = () => {\n  if (open.value === true) {\n    open.value = false\n    emit('blur')\n  }\n}\n</script>\n\n<template>\n  <div\n    v-bind=\"$attrs\"\n    class=\"group relative flex flex-col rounded-md bg-white dark:bg-gray-800\"\n  >\n    <div\n      v-if=\"title || $slots.title\"\n      class=\"relative mb-3 flex min-w-0 justify-between truncate px-4 pt-3 text-gray-700 dark:text-gray-400\"\n    >\n      <slot v-if=\"$slots.title\" name=\"title\" :title=\"title\" />\n      <template v-else>{{ title }}</template>\n      <button\n        v-if=\"$slots.options\"\n        ref=\"contextButtonRef\"\n        class=\"ml-2 -mr-2 -mt-1 cursor-default rounded-full border-none p-1 opacity-0 transition-all duration-150 hover:bg-gray-100 group-hover:opacity-100 dark:hover:bg-gray-800\"\n        @click=\"open = !open\"\n      >\n        <PhDotsThreeVertical size=\"24\" weight=\"bold\" />\n      </button>\n    </div>\n    <section\n      v-if=\"$slots.default\"\n      class=\"h-full w-full px-4 pb-3\"\n      :class=\"{ 'pt-3': !(title || $slots.title) }\"\n    >\n      <slot />\n    </section>\n    <slot name=\"raw\" />\n  </div>\n  <RobustPopper\n    ref=\"popperRef\"\n    v-model:open=\"open\"\n    class=\"z-[100]\"\n    :append-to=\"contextButtonRef\"\n    :options=\"{\n      placement: 'bottom-end',\n    }\"\n  >\n    <slot name=\"options\" />\n  </RobustPopper>\n</template>\n"],"names":["__default__","open","ref","contextButtonRef","popperRef","onClickOutside","event","closeDropdown","emit"],"mappings":"sYACAA,EAAe,CACb,KAAM,qBACR,wFAkBM,MAAAC,EAAOC,EAAI,EAAK,EAChBC,EAAmBD,IACnBE,EAAYF,IAEHG,EAAAD,EAAYE,GAAU,CAC/BL,EAAK,QACHE,EAAiB,MAAM,SAASG,EAAM,MAAM,IAC9CA,EAAM,gBAAgB,EACtBA,EAAM,eAAe,GAETC,IACdC,EAAK,MAAM,EACb,CACD,EAED,MAAMD,EAAgB,IAAM,CACtBN,EAAK,QAAU,KACjBA,EAAK,MAAQ,GACbO,EAAK,MAAM,EACb"}