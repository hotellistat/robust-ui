import{w as R,d as y,b as G}from"./iframe.f4e7a11c.js";var{LOGLEVEL:H,console:c}=R,d={trace:1,debug:2,info:3,warn:4,error:5,silent:10},U=H,S=d[U]||d.info,u={trace:(e,...t)=>S<=d.trace&&c.trace(e,...t),debug:(e,...t)=>S<=d.debug&&c.debug(e,...t),info:(e,...t)=>S<=d.info&&c.info(e,...t),warn:(e,...t)=>S<=d.warn&&c.warn(e,...t),error:(e,...t)=>S<=d.error&&c.error(e,...t),log:(e,...t)=>S<d.silent&&c.log(e,...t)},m="backgrounds",{document:l,window:k}=R,M=()=>k.matchMedia("(prefers-reduced-motion: reduce)").matches,B=(e,t=[],r)=>{if(e==="transparent")return"transparent";if(t.find(s=>s.value===e))return e;let n=t.find(s=>s.name===r);if(n)return n.value;if(r){let s=t.map(o=>o.name).join(", ");u.warn(y`
        Backgrounds Addon: could not find the default color "${r}".
        These are the available colors for your story based on your configuration:
        ${s}.
      `)}return"transparent"},b=e=>{(Array.isArray(e)?e:[e]).forEach(F)},F=e=>{let t=l.getElementById(e);t&&t.parentElement.removeChild(t)},W=(e,t)=>{let r=l.getElementById(e);if(r)r.innerHTML!==t&&(r.innerHTML=t);else{let n=l.createElement("style");n.setAttribute("id",e),n.innerHTML=t,l.head.appendChild(n)}},X=(e,t,r)=>{let n=l.getElementById(e);if(n)n.innerHTML!==t&&(n.innerHTML=t);else{let s=l.createElement("style");s.setAttribute("id",e),s.innerHTML=t;let o=`addon-backgrounds-grid${r?`-docs-${r}`:""}`,a=l.getElementById(o);a?a.parentElement.insertBefore(s,a):l.head.appendChild(s)}},z=()=>Math.random().toString(16).slice(2),V=class{constructor({transport:e,async:t=!1}={}){this.sender=z(),this.events={},this.data={},this.isAsync=t,e&&(this.transport=e,this.transport.setHandler(r=>this.handleEvent(r)))}get hasTransport(){return!!this.transport}addListener(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)}emit(e,...t){let r={type:e,args:t,from:this.sender},n={};t.length>=1&&t[0]&&t[0].options&&(n=t[0].options);let s=()=>{this.transport&&this.transport.send(r,n),this.handleEvent(r)};this.isAsync?setImmediate(s):s()}last(e){return this.data[e]}eventNames(){return Object.keys(this.events)}listenerCount(e){let t=this.listeners(e);return t?t.length:0}listeners(e){return this.events[e]||void 0}once(e,t){let r=this.onceListener(e,t);this.addListener(e,r)}removeAllListeners(e){e?this.events[e]&&delete this.events[e]:this.events={}}removeListener(e,t){let r=this.listeners(e);r&&(this.events[e]=r.filter(n=>n!==t))}on(e,t){this.addListener(e,t)}off(e,t){this.removeListener(e,t)}handleEvent(e){let t=this.listeners(e.type);t&&t.length&&t.forEach(r=>{r.apply(e,e.args)}),this.data[e.type]=e.args}onceListener(e,t){let r=(...n)=>(this.removeListener(e,r),t(...n));return r}},L=(e=>(e.CHANNEL_CREATED="channelCreated",e.CONFIG_ERROR="configError",e.STORY_INDEX_INVALIDATED="storyIndexInvalidated",e.STORY_SPECIFIED="storySpecified",e.SET_CONFIG="setConfig",e.SET_STORIES="setStories",e.SET_CURRENT_STORY="setCurrentStory",e.CURRENT_STORY_WAS_SET="currentStoryWasSet",e.FORCE_RE_RENDER="forceReRender",e.FORCE_REMOUNT="forceRemount",e.PRELOAD_ENTRIES="preloadStories",e.STORY_PREPARED="storyPrepared",e.STORY_CHANGED="storyChanged",e.STORY_UNCHANGED="storyUnchanged",e.STORY_RENDERED="storyRendered",e.STORY_MISSING="storyMissing",e.STORY_ERRORED="storyErrored",e.STORY_THREW_EXCEPTION="storyThrewException",e.STORY_RENDER_PHASE_CHANGED="storyRenderPhaseChanged",e.PLAY_FUNCTION_THREW_EXCEPTION="playFunctionThrewException",e.UPDATE_STORY_ARGS="updateStoryArgs",e.STORY_ARGS_UPDATED="storyArgsUpdated",e.RESET_STORY_ARGS="resetStoryArgs",e.SET_GLOBALS="setGlobals",e.UPDATE_GLOBALS="updateGlobals",e.GLOBALS_UPDATED="globalsUpdated",e.REGISTER_SUBSCRIPTION="registerSubscription",e.PREVIEW_KEYDOWN="previewKeydown",e.SELECT_STORY="selectStory",e.STORIES_COLLAPSE_ALL="storiesCollapseAll",e.STORIES_EXPAND_ALL="storiesExpandAll",e.DOCS_RENDERED="docsRendered",e.SHARED_STATE_CHANGED="sharedStateChanged",e.SHARED_STATE_SET="sharedStateSet",e.NAVIGATE_URL="navigateUrl",e.UPDATE_QUERY_PARAMS="updateQueryParams",e))(L||{}),{CHANNEL_CREATED:oe,CONFIG_ERROR:de,STORY_INDEX_INVALIDATED:le,STORY_SPECIFIED:he,SET_STORIES:Ee,SET_CONFIG:j,SET_CURRENT_STORY:ce,CURRENT_STORY_WAS_SET:Se,FORCE_RE_RENDER:ue,FORCE_REMOUNT:Re,STORY_PREPARED:Te,STORY_CHANGED:pe,STORY_UNCHANGED:_e,PRELOAD_ENTRIES:ge,STORY_RENDERED:Ae,STORY_MISSING:Oe,STORY_ERRORED:me,STORY_THREW_EXCEPTION:fe,STORY_RENDER_PHASE_CHANGED:$e,PLAY_FUNCTION_THREW_EXCEPTION:ve,UPDATE_STORY_ARGS:Ce,STORY_ARGS_UPDATED:Ne,RESET_STORY_ARGS:De,SET_GLOBALS:ye,UPDATE_GLOBALS:be,GLOBALS_UPDATED:Le,REGISTER_SUBSCRIPTION:Ie,PREVIEW_KEYDOWN:we,SELECT_STORY:Pe,STORIES_COLLAPSE_ALL:Ye,STORIES_EXPAND_ALL:xe,DOCS_RENDERED:Ge,SHARED_STATE_CHANGED:He,SHARED_STATE_SET:Ue,NAVIGATE_URL:ke,UPDATE_QUERY_PARAMS:Me}=L;function K(){let e={setHandler:()=>{},send:()=>{}};return new V({transport:e})}var Q=(e=>(e.TAB="tab",e.PANEL="panel",e.TOOL="tool",e.TOOLEXTRA="toolextra",e.PREVIEW="preview",e.NOTES_ELEMENT="notes-element",e))(Q||{}),q=class{constructor(){this.loaders={},this.elements={},this.config={},this.getChannel=()=>(this.channel||this.setChannel(K()),this.channel),this.getServerChannel=()=>{if(!this.serverChannel)throw new Error("Accessing non-existent serverChannel");return this.serverChannel},this.ready=()=>this.promise,this.hasChannel=()=>!!this.channel,this.hasServerChannel=()=>!!this.serverChannel,this.setChannel=e=>{this.channel=e,this.resolve()},this.setServerChannel=e=>{this.serverChannel=e},this.getElements=e=>(this.elements[e]||(this.elements[e]={}),this.elements[e]),this.addPanel=(e,t)=>{this.add(e,{type:"panel",...t})},this.add=(e,t)=>{let{type:r}=t,n=this.getElements(r);n[e]={id:e,...t}},this.setConfig=e=>{Object.assign(this.config,e),this.hasChannel()&&this.getChannel().emit(j,e)},this.getConfig=()=>this.config,this.register=(e,t)=>{this.loaders[e]&&u.warn(`${e} was loaded twice, this could have bad side-effects`),this.loaders[e]=t},this.loadAddons=e=>{Object.values(this.loaders).forEach(t=>t(e))},this.promise=new Promise(e=>{this.resolve=()=>e(this.getChannel())})}},f="__STORYBOOK_ADDONS";function J(){return R[f]||(R[f]=new q),R[f]}J();var{window:Z}=R,ee=(e,t)=>e.length===t.length&&e.every((r,n)=>r===t[n]),I=()=>new Error("Storybook preview hooks can only be called inside decorators and story functions.");function te(){return Z.STORYBOOK_HOOKS_CONTEXT||null}function w(){let e=te();if(e==null)throw I();return e}function re(e,t,r){let n=w();if(n.currentPhase==="MOUNT"){r!=null&&!Array.isArray(r)&&u.warn(`${e} received a final argument that is not an array (instead, received ${r}). When specified, the final argument must be an array.`);let s={name:e,deps:r};return n.currentHooks.push(s),t(s),s}if(n.currentPhase==="UPDATE"){let s=n.getNextHook();if(s==null)throw new Error("Rendered more hooks than during the previous render.");return s.name!==e&&u.warn(`Storybook has detected a change in the order of Hooks${n.currentDecoratorName?` called by ${n.currentDecoratorName}`:""}. This will lead to bugs and errors if not fixed.`),r!=null&&s.deps==null&&u.warn(`${e} received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.`),r!=null&&s.deps!=null&&r.length!==s.deps.length&&u.warn(`The final argument passed to ${e} changed size between renders. The order and size of this array must remain constant.
Previous: ${s.deps}
Incoming: ${r}`),(r==null||s.deps==null||!ee(r,s.deps))&&(t(s),s.deps=r),s}throw I()}function P(e,t,r){let{memoizedState:n}=re(e,s=>{s.memoizedState=t()},r);return n}function O(e,t){return P("useMemo",e,t)}function Y(e,t){let r=w(),n=P("useEffect",()=>({create:e}),t);r.currentEffects.includes(n)||r.currentEffects.push(n)}var ne=(e,t)=>{var i;let{globals:r,parameters:n}=t,s=(i=r[m])==null?void 0:i.value,o=n[m],a=O(()=>o.disable?"transparent":B(s,o.values,o.default),[o,s]),p=O(()=>a&&a!=="transparent",[a]),h=t.viewMode==="docs"?`#anchor--${t.id} .docs-story`:".sb-show-main",T=O(()=>{let E="transition: background-color 0.3s;";return`
      ${h} {
        background: ${a} !important;
        ${M()?"":E}
      }
    `},[a,h]);return Y(()=>{let E=t.viewMode==="docs"?`addon-backgrounds-docs-${t.id}`:"addon-backgrounds-color";if(!p){b(E);return}X(E,T,t.viewMode==="docs"?t.id:null)},[p,T,t]),e()},se=G(()=>{},y`
    Backgrounds Addon: The cell size parameter has been changed.

    - parameters.grid.cellSize should now be parameters.backgrounds.grid.cellSize
    See https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-grid-parameter
  `),ae=(e,t)=>{var v,C,N,D;let{globals:r,parameters:n}=t,s=n[m].grid,o=((v=r[m])==null?void 0:v.grid)===!0&&s.disable!==!0,{cellAmount:a,cellSize:p,opacity:h}=s,T=t.viewMode==="docs",i;(C=n.grid)!=null&&C.cellSize?(i=n.grid.cellSize,se()):i=p;let E=n.layout===void 0||n.layout==="padded"?16:0,_=(N=s.offsetX)!=null?N:T?20:E,g=(D=s.offsetY)!=null?D:T?20:E,$=O(()=>{let A=t.viewMode==="docs"?`#anchor--${t.id} .docs-story`:".sb-show-main",x=[`${i*a}px ${i*a}px`,`${i*a}px ${i*a}px`,`${i}px ${i}px`,`${i}px ${i}px`].join(", ");return`
      ${A} {
        background-size: ${x} !important;
        background-position: ${_}px ${g}px, ${_}px ${g}px, ${_}px ${g}px, ${_}px ${g}px !important;
        background-blend-mode: difference !important;
        background-image: linear-gradient(rgba(130, 130, 130, ${h}) 1px, transparent 1px),
         linear-gradient(90deg, rgba(130, 130, 130, ${h}) 1px, transparent 1px),
         linear-gradient(rgba(130, 130, 130, ${h/2}) 1px, transparent 1px),
         linear-gradient(90deg, rgba(130, 130, 130, ${h/2}) 1px, transparent 1px) !important;
      }
    `},[i]);return Y(()=>{let A=t.viewMode==="docs"?`addon-backgrounds-grid-docs-${t.id}`:"addon-backgrounds-grid";if(!o){b(A);return}W(A,$)},[o,$,t]),e()},Be=[ae,ne],Fe={backgrounds:{grid:{cellSize:20,opacity:.5,cellAmount:5},values:[{name:"light",value:"#F8F8F8"},{name:"dark",value:"#333333"}]}};export{Be as decorators,Fe as parameters};
//# sourceMappingURL=preview.219ab83e.js.map
