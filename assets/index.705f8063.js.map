{"version":3,"file":"index.705f8063.js","sources":["../../src/components/WidgetWrapper/index.vue"],"sourcesContent":["<script lang=\"ts\">\nexport default {\n  name: 'RobustWidgetWrapper',\n}\n</script>\n\n<script lang=\"ts\" setup>\nimport { ref } from 'vue'\nimport RobustPopper from '../Popper'\nimport { PhDotsThreeVertical } from '@dnlsndr/vue-phosphor-icons'\nimport { onClickOutside } from '@vueuse/core'\n\nconst emit = defineEmits(['blur'])\n\nconst open = ref(false)\nconst contextButtonRef = ref()\nconst popperRef = ref()\n\nonClickOutside(popperRef, (event) => {\n  if (open.value) {\n    if (contextButtonRef.value.contains(event.target)) {\n      event.stopPropagation()\n      event.preventDefault()\n    }\n    closeDropdown()\n    emit('blur')\n  }\n})\n\nconst closeDropdown = () => {\n  if (open.value === true) {\n    open.value = false\n    emit('blur')\n  }\n}\n</script>\n\n<template>\n  <div\n    v-bind=\"$attrs\"\n    class=\"group relative flex flex-col rounded-md bg-white dark:bg-gray-800\"\n  >\n    <div\n      v-if=\"$slots.title\"\n      class=\"relative flex min-w-0 flex-shrink-0 items-center justify-between gap-4 truncate p-4 font-medium text-gray-500 dark:text-gray-400\"\n    >\n      <slot v-if=\"$slots.title\" name=\"title\" />\n      <div\n        v-if=\"$slots.options\"\n        ref=\"contextButtonRef\"\n        class=\"-m-1 cursor-default rounded-full border-none p-1 opacity-0 transition-all duration-150 hover:bg-gray-100 group-hover:opacity-100 dark:hover:bg-gray-700\"\n        @click=\"open = !open\"\n      >\n        <PhDotsThreeVertical size=\"20\" weight=\"bold\" />\n      </div>\n    </div>\n    <RobustPopper\n      ref=\"popperRef\"\n      v-model:open=\"open\"\n      class=\"z-[100]\"\n      :append-to=\"contextButtonRef\"\n      :options=\"{\n        placement: 'bottom-end',\n      }\"\n    >\n      <slot name=\"options\" />\n    </RobustPopper>\n    <section\n      v-if=\"$slots.default\"\n      class=\"h-full w-full px-4 pb-4\"\n      :class=\"{ 'pt-4': !$slots.title }\"\n    >\n      <slot />\n    </section>\n    <slot name=\"raw\" />\n  </div>\n</template>\n"],"names":["__default__","open","ref","contextButtonRef","popperRef","onClickOutside","event","closeDropdown","emit"],"mappings":"iZACAA,EAAe,CACb,KAAM,qBACR,6CAWM,MAAAC,EAAOC,EAAI,EAAK,EAChBC,EAAmBD,IACnBE,EAAYF,IAEHG,EAAAD,EAAYE,GAAU,CAC/BL,EAAK,QACHE,EAAiB,MAAM,SAASG,EAAM,MAAM,IAC9CA,EAAM,gBAAgB,EACtBA,EAAM,eAAe,GAETC,IACdC,EAAK,MAAM,EACb,CACD,EAED,MAAMD,EAAgB,IAAM,CACtBN,EAAK,QAAU,KACjBA,EAAK,MAAQ,GACbO,EAAK,MAAM,EACb"}