{"version":3,"file":"index-9c0bb730.js","sources":["../../node_modules/@floating-ui/vue/dist/floating-ui.vue.esm.js","../../src/components/Floating/index.vue"],"sourcesContent":["import { arrow as arrow$1, computePosition } from '@floating-ui/dom';\nexport * from '@floating-ui/dom';\nimport { unref, computed, ref, shallowRef, watch, getCurrentScope, onScopeDispose, shallowReadonly } from 'vue-demi';\n\nfunction unwrapElement(element) {\n  var _$el;\n  return (_$el = element == null ? void 0 : element.$el) != null ? _$el : element;\n}\n\n/**\n * Positions an inner element of the floating element such that it is centered to the reference element.\n * @param options The arrow options.\n * @see https://floating-ui.com/docs/arrow\n */\nfunction arrow(options) {\n  return {\n    name: 'arrow',\n    options,\n    fn(args) {\n      const element = unwrapElement(unref(options.element));\n      if (element == null) {\n        return {};\n      }\n      return arrow$1({\n        element,\n        padding: options.padding\n      }).fn(args);\n    }\n  };\n}\n\nfunction getDPR(element) {\n  if (typeof window === 'undefined') {\n    return 1;\n  }\n  const win = element.ownerDocument.defaultView || window;\n  return win.devicePixelRatio || 1;\n}\n\nfunction roundByDPR(element, value) {\n  const dpr = getDPR(element);\n  return Math.round(value * dpr) / dpr;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element next to a reference element when it is given a certain CSS positioning strategy.\n * @param reference The reference template ref.\n * @param floating The floating template ref.\n * @param options The floating options.\n * @see https://floating-ui.com/docs/vue\n */\nfunction useFloating(reference, floating, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const whileElementsMountedOption = options.whileElementsMounted;\n  const openOption = computed(() => {\n    var _unref;\n    return (_unref = unref(options.open)) != null ? _unref : true;\n  });\n  const middlewareOption = computed(() => unref(options.middleware));\n  const placementOption = computed(() => {\n    var _unref2;\n    return (_unref2 = unref(options.placement)) != null ? _unref2 : 'bottom';\n  });\n  const strategyOption = computed(() => {\n    var _unref3;\n    return (_unref3 = unref(options.strategy)) != null ? _unref3 : 'absolute';\n  });\n  const transformOption = computed(() => {\n    var _unref4;\n    return (_unref4 = unref(options.transform)) != null ? _unref4 : true;\n  });\n  const referenceElement = computed(() => unwrapElement(reference.value));\n  const floatingElement = computed(() => unwrapElement(floating.value));\n  const x = ref(0);\n  const y = ref(0);\n  const strategy = ref(strategyOption.value);\n  const placement = ref(placementOption.value);\n  const middlewareData = shallowRef({});\n  const isPositioned = ref(false);\n  const floatingStyles = computed(() => {\n    const initialStyles = {\n      position: strategy.value,\n      left: '0',\n      top: '0'\n    };\n    if (!floatingElement.value) {\n      return initialStyles;\n    }\n    const xVal = roundByDPR(floatingElement.value, x.value);\n    const yVal = roundByDPR(floatingElement.value, y.value);\n    if (transformOption.value) {\n      return {\n        ...initialStyles,\n        transform: \"translate(\" + xVal + \"px, \" + yVal + \"px)\",\n        ...(getDPR(floatingElement.value) >= 1.5 && {\n          willChange: 'transform'\n        })\n      };\n    }\n    return {\n      position: strategy.value,\n      left: xVal + \"px\",\n      top: yVal + \"px\"\n    };\n  });\n  let whileElementsMountedCleanup;\n  function update() {\n    if (referenceElement.value == null || floatingElement.value == null) {\n      return;\n    }\n    computePosition(referenceElement.value, floatingElement.value, {\n      middleware: middlewareOption.value,\n      placement: placementOption.value,\n      strategy: strategyOption.value\n    }).then(position => {\n      x.value = position.x;\n      y.value = position.y;\n      strategy.value = position.strategy;\n      placement.value = position.placement;\n      middlewareData.value = position.middlewareData;\n      isPositioned.value = true;\n    });\n  }\n  function cleanup() {\n    if (typeof whileElementsMountedCleanup === 'function') {\n      whileElementsMountedCleanup();\n      whileElementsMountedCleanup = undefined;\n    }\n  }\n  function attach() {\n    cleanup();\n    if (whileElementsMountedOption === undefined) {\n      update();\n      return;\n    }\n    if (referenceElement.value != null && floatingElement.value != null) {\n      whileElementsMountedCleanup = whileElementsMountedOption(referenceElement.value, floatingElement.value, update);\n      return;\n    }\n  }\n  function reset() {\n    if (!openOption.value) {\n      isPositioned.value = false;\n    }\n  }\n  watch([middlewareOption, placementOption, strategyOption], update, {\n    flush: 'sync'\n  });\n  watch([referenceElement, floatingElement], attach, {\n    flush: 'sync'\n  });\n  watch(openOption, reset, {\n    flush: 'sync'\n  });\n  if (getCurrentScope()) {\n    onScopeDispose(cleanup);\n  }\n  return {\n    x: shallowReadonly(x),\n    y: shallowReadonly(y),\n    strategy: shallowReadonly(strategy),\n    placement: shallowReadonly(placement),\n    middlewareData: shallowReadonly(middlewareData),\n    isPositioned: shallowReadonly(isPositioned),\n    floatingStyles,\n    update\n  };\n}\n\nexport { arrow, useFloating };\n","<script setup lang=\"ts\">\nimport {\n  Middleware,\n  Placement,\n  ReferenceElement,\n  Strategy,\n  autoUpdate,\n  flip,\n  hide,\n  offset,\n  size,\n  useFloating,\n} from '@floating-ui/vue';\nimport {\n  PropType,\n  Ref,\n  nextTick,\n  onMounted,\n  onUnmounted,\n  ref,\n  toRefs,\n  watch,\n} from 'vue';\n\nconst props = defineProps({\n  reference: {\n    type: Object as PropType<ReferenceElement>,\n    required: true,\n  },\n  open: {\n    type: Boolean,\n    default: false,\n  },\n  sameSize: {\n    type: Boolean,\n    default: false,\n  },\n  offset: {\n    type: Number,\n    default: 0,\n  },\n  strategy: {\n    type: String as PropType<Strategy>,\n    default: 'absolute',\n  },\n  placement: {\n    type: String as PropType<Placement>,\n    default: 'bottom-start',\n  },\n  transform: {\n    type: Boolean as PropType<boolean>,\n    default: true,\n  },\n  middleware: {\n    type: Array as PropType<Middleware[]>,\n    default: () => [],\n  },\n});\n\nconst { reference } = toRefs(props);\nconst floating = ref<HTMLElement>();\n\nconst { floatingStyles, update } = useFloating(reference, floating, {\n  strategy: props.strategy,\n  placement: props.placement,\n  transform: props.transform,\n  middleware: [\n    flip({\n      padding: 10,\n    }),\n    offset({\n      mainAxis: 4,\n    }),\n    hide(),\n    props.sameSize\n      ? size({\n          apply({ rects, elements }) {\n            Object.assign(elements.floating.style, {\n              width: `${rects.reference.width}px`,\n              minWidth: '200px',\n            });\n          },\n        })\n      : undefined,\n    ...props.middleware,\n  ],\n});\n\nlet cleanup = undefined;\n\nwatch(\n  () => props.open,\n  (open) => {\n    if (open) {\n      nextTick(() => {\n        cleanup = autoUpdate(reference.value, floating.value, update);\n      });\n    } else {\n      cleanup?.();\n    }\n  }\n);\n\nonUnmounted(() => {\n  cleanup?.();\n});\n</script>\n\n<template>\n  <div\n    v-if=\"open\"\n    ref=\"floating\"\n    :style=\"floatingStyles\"\n    class=\"absolute rounded-md border border-gray-200 bg-white shadow-2xl dark:border-gray-700 dark:bg-gray-800\"\n  >\n    <slot></slot>\n  </div>\n</template>\n\n<style>\n.v-enter-active,\n.v-leave-active {\n  opacity: 1;\n  transition: opacity 0.5s ease;\n}\n\n.v-enter-from,\n.v-leave-to {\n  opacity: 0;\n}\n</style>\n"],"names":["unwrapElement","element","_$el","getDPR","roundByDPR","value","dpr","useFloating","reference","floating","options","whileElementsMountedOption","openOption","computed","_unref","unref","middlewareOption","placementOption","_unref2","strategyOption","_unref3","transformOption","_unref4","referenceElement","floatingElement","x","ref","y","strategy","placement","middlewareData","shallowRef","isPositioned","floatingStyles","initialStyles","xVal","yVal","whileElementsMountedCleanup","update","computePosition","position","cleanup","attach","reset","watch","getCurrentScope","onScopeDispose","shallowReadonly","toRefs","props","flip","offset","hide","size","rects","elements","open","nextTick","autoUpdate","onUnmounted"],"mappings":"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","x_google_ignoreList":[0]}