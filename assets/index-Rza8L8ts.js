import{d as R,r as d,t as A,o as M,a as k,b as H,g as _,D as N,G as W,a1 as X,c as w,y as ue,p as re,I as ce,a0 as ie,H as z,J as G,f as ve,s as E,q as de,K as P}from"./vue.esm-bundler-K5TEJ--t.js";function D(e){let t={r:0,g:0,b:0,a:1};/#/.test(e)?t=pe(e):/rgb/.test(e)?t=J(e):typeof e=="string"?t=J(`rgba(${e})`):Object.prototype.toString.call(e)==="[object Object]"&&(t=e);const{r:o,g:s,b:u,a}=t,{h:n,s:p,v:g}=me(t);return{r:o,g:s,b:u,a:a===void 0?1:a,h:n,s:p,v:g}}function Y(e){const t=document.createElement("canvas"),o=t.getContext("2d"),s=e*2;return t.width=s,t.height=s,o.fillStyle="#ffffff",o.fillRect(0,0,s,s),o.fillStyle="#ccd5db",o.fillRect(0,0,e,e),o.fillRect(e,e,e,e),t}function U(e,t,o,s,u,a){const n=e==="l",p=t.createLinearGradient(0,0,n?o:0,n?0:s);p.addColorStop(.01,u),p.addColorStop(.99,a),t.fillStyle=p,t.fillRect(0,0,o,s)}function fe({r:e,g:t,b:o},s){const u=n=>("0"+Number(n).toString(16)).slice(-2),a=`#${u(e)}${u(t)}${u(o)}`;return s?a.toUpperCase():a}function pe(e){e=e.slice(1);const t=o=>parseInt(o,16)||0;return{r:t(e.slice(0,2)),g:t(e.slice(2,4)),b:t(e.slice(4,6))}}function J(e){return typeof e=="string"?(e=(/rgba?\((.*?)\)/.exec(e)||["","0,0,0,1"])[1].split(","),{r:Number(e[0])||0,g:Number(e[1])||0,b:Number(e[2])||0,a:Number(e[3]?e[3]:1)}):e}function me({r:e,g:t,b:o}){e=e/255,t=t/255,o=o/255;const s=Math.max(e,t,o),u=Math.min(e,t,o),a=s-u;let n=0;s===u?n=0:s===e?t>=o?n=60*(t-o)/a:n=60*(t-o)/a+360:s===t?n=60*(o-e)/a+120:s===o&&(n=60*(e-t)/a+240),n=Math.floor(n);const p=parseFloat((s===0?0:1-u/s).toFixed(2)),g=parseFloat(s.toFixed(2));return{h:n,s:p,v:g}}const Q=R({__name:"CoorPickerSaturation",props:{color:{type:String,default:"#000000"},hsv:{type:Object,default:null},size:{type:Number,default:152}},emits:["selectSaturation"],setup(e,{emit:t}){const o=e,s=t,u=d({}),{size:a,hsv:n,color:p}=A(o),g=d(),c=d(),i=h=>{const v=h,m=a.value,y=v.getContext("2d");v.width=m,v.height=m,y.fillStyle=p.value,y.fillRect(0,0,m,m),U("l",y,m,m,"#FFFFFF","rgba(255,255,255,0)"),U("p",y,m,m,"rgba(0,0,0,0)","#000000")},r=()=>{u.value={left:n.value.s*a.value-5+"px",top:(1-n.value.v)*a.value-5+"px"}},S=h=>{const{top:v,left:m}=g.value.getBoundingClientRect(),y=h.target.getContext("2d"),f=b=>{let V=b.clientX-m,x=b.clientY-v;V<0&&(V=0),x<0&&(x=0),V>a.value&&(V=a.value),x>a.value&&(x=a.value),u.value={left:V-5+"px",top:x-5+"px"};const B=y.getImageData(Math.min(V,a.value-1),Math.min(x,a.value-1),1,1),[$,L,K]=B.data;s("selectSaturation",{r:$,g:L,b:K})};f(h);const C=()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",C)};document.addEventListener("mousemove",f),document.addEventListener("mouseup",C)};return M(()=>{i(c.value),r()}),(h,v)=>(k(),H("div",{ref_key:"saturation",ref:g,class:"saturation",onMousedown:W(S,["prevent","stop"])},[_("canvas",{ref_key:"canvasSaturation",ref:c},null,512),_("div",{style:N(u.value),class:"slide"},null,4)],544))}});Q.__docgenInfo={exportName:"default",displayName:"CoorPickerSaturation",description:"",tags:{},props:[{name:"color",type:{name:"string"},defaultValue:{func:!1,value:"'#000000'"}},{name:"hsv",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"size",type:{name:"number"},defaultValue:{func:!1,value:"152"}}],events:[{name:"selectSaturation"}]};const Z=R({__name:"ColorPickerHue",props:{hsv:{type:Object,default:null},width:{type:Number,default:15},height:{type:Number,default:152}},emits:["selectHue"],setup(e,{emit:t}){const o=e,s=t,u=d({}),a=d(),{height:n,width:p,hsv:g}=A(o),c=d(),i=h=>{const v=h,m=p.value,y=n.value,f=v.getContext("2d");v.width=m,v.height=y;const C=f.createLinearGradient(0,0,0,y);C.addColorStop(0,"#FF0000"),C.addColorStop(.17*1,"#FF00FF"),C.addColorStop(.17*2,"#0000FF"),C.addColorStop(.17*3,"#00FFFF"),C.addColorStop(.17*4,"#00FF00"),C.addColorStop(.17*5,"#FFFF00"),C.addColorStop(1,"#FF0000"),f.fillStyle=C,f.fillRect(0,0,m,y)},r=()=>{u.value={top:(1-g.value.h/360)*n.value-2+"px"}},S=h=>{const{top:v}=c.value.getBoundingClientRect(),m=h.target.getContext("2d"),y=C=>{let b=C.clientY-v;b<0&&(b=0),b>n.value&&(b=n.value),u.value={top:b-2+"px"};const V=m.getImageData(0,Math.min(b,n.value-1),1,1),[x,B,$]=V.data;s("selectHue",{r:x,g:B,b:$})};y(h);const f=()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",f)};document.addEventListener("mousemove",y),document.addEventListener("mouseup",f)};return M(()=>{i(a.value),r()}),(h,v)=>(k(),H("div",{ref_key:"hue",ref:c,class:"hue",onMousedown:W(S,["prevent","stop"])},[_("canvas",{ref_key:"canvasHue",ref:a},null,512),_("div",{style:N(u.value),class:"slide"},null,4)],544))}});Z.__docgenInfo={exportName:"default",displayName:"ColorPickerHue",description:"",tags:{},props:[{name:"hsv",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"width",type:{name:"number"},defaultValue:{func:!1,value:"15"}},{name:"height",type:{name:"number"},defaultValue:{func:!1,value:"152"}}],events:[{name:"selectHue"}]};const ee=R({__name:"ColorPickerPreview",props:{color:{type:String,default:"#000000"},width:{type:Number,default:100},height:{type:Number,default:30}},setup(e){const t=e,o=d(5),{color:s,width:u,height:a}=A(t),n=d(),p=g=>{const c=g,i=u.value,r=a.value,S=o.value,h=Y(S),v=c.getContext("2d");c.width=i,c.height=r,v.fillStyle=v.createPattern(h,"repeat"),v.fillRect(0,0,i,r),v.fillStyle=s.value,v.fillRect(0,0,i,r)};return M(()=>{X(()=>{p(n.value)}),p(n.value)}),(g,c)=>(k(),H("canvas",{ref_key:"canvas",ref:n},null,512))}});ee.__docgenInfo={exportName:"default",displayName:"ColorPickerPreview",description:"",tags:{},props:[{name:"color",type:{name:"string"},defaultValue:{func:!1,value:"'#000000'"}},{name:"width",type:{name:"number"},defaultValue:{func:!1,value:"100"}},{name:"height",type:{name:"number"},defaultValue:{func:!1,value:"30"}}]};const he={class:"color-type"},ge={class:"name"},O=R({__name:"ColorPickerBox",props:{name:{type:String,default:""},color:{type:String,default:""}},emits:["inputColor"],setup(e,{emit:t}){const o=e,s=t,u=w({get(){return o.color||""},set(a){s("inputColor",a)}});return(a,n)=>(k(),H("div",he,[_("span",ge,ue(e.name),1),re(_("input",{"onUpdate:modelValue":n[0]||(n[0]=p=>u.value=p),class:"value"},null,512),[[ce,u.value]])]))}});O.__docgenInfo={exportName:"default",displayName:"ColorPickerBox",description:"",tags:{},props:[{name:"name",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"color",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],events:[{name:"inputColor"}]};const ye={class:"colors"},Fe=["onClick"],Se={key:0,class:"colors history"},Ce=["onClick"],te=R({__name:"ColorPickerColors",props:{color:{type:String,default:"#000000"},colorsDefault:{type:Array,required:!0},colorsHistoryKey:{type:String,default:""}},emits:["selectColor"],setup(e,{emit:t}){const o=e,s=t,u=d(),a=d([]),n=d();o.colorsHistoryKey&&localStorage&&(a.value=JSON.parse(localStorage.getItem(o.colorsHistoryKey))||[]),n.value=Y(4).toDataURL(),ie(()=>{p(u.value)});const p=c=>{if(!c)return;const i=a.value||[],r=i.indexOf(c);r>=0&&i.splice(r,1),i.length>=8&&(i.length=7),i.unshift(c),a.value=i||[],localStorage&&o.colorsHistoryKey&&localStorage.setItem(o.colorsHistoryKey,JSON.stringify(i))},g=c=>{s("selectColor",c)};return(c,i)=>(k(),H("div",null,[_("ul",ye,[(k(!0),H(z,null,G(e.colorsDefault,r=>(k(),H("li",{key:r,class:"item",onClick:S=>g(r)},[_("div",{style:N({background:`url(${n.value})`}),class:"alpha"},null,4),_("div",{style:N({background:r}),class:"color"},null,4)],8,Fe))),128))]),a.value.length?(k(),H("ul",Se,[(k(!0),H(z,null,G(a.value,r=>(k(),H("li",{key:r,class:"item",onClick:S=>g(r)},[_("div",{style:N({background:`url(${n.value})`}),class:"alpha"},null,4),_("div",{style:N({background:r}),class:"color"},null,4)],8,Ce))),128))])):ve("",!0)]))}});te.__docgenInfo={exportName:"default",displayName:"ColorPickerColors",description:"",tags:{},props:[{name:"color",type:{name:"string"},defaultValue:{func:!1,value:"'#000000'"}},{name:"colorsDefault",type:{name:"string[]"},required:!0},{name:"colorsHistoryKey",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],events:[{name:"selectColor"}]};const _e={class:"color-set"},be=R({__name:"index",props:{color:{type:String,default:"#000000"},theme:{type:String,default:"dark"},colorsDefault:{type:Array,default:()=>["#000000","#FFFFFF","#FF1900","#F47365","#FFB243","#FFE623","#6EFF2A","#1BC7B1","#00BEFF","#2E81FF","#5D61FF","#FF89CF","#FC3CAD","#BF3DCE","#8E00A7"]},colorsHistoryKey:{type:String,default:"vue-colorpicker-history"}},emits:["changeColor"],setup(e,{emit:t}){const o=e,s=t,u=d(15),a=d(152),n=d(20),p=d(""),g=d(""),c=d(0),i=d(0),r=d(0),S=d(1),h=d(0),v=d(0),m=d(0),y=d(),f=d(),{theme:C,color:b}=A(o),V=w(()=>C.value==="light"),x=w(()=>a.value+(u.value+8)*2),B=w(()=>x.value-n.value),$=w(()=>({r:c.value,g:i.value,b:r.value,a:S.value})),L=w(()=>({h:h.value,s:v.value,v:m.value})),K=w(()=>`rgb(${c.value}, ${i.value}, ${r.value})`),j=w(()=>`${c.value}, ${i.value}, ${r.value}`),T=w(()=>`rgb(${j.value})`),q=w(()=>fe($.value,!0)),I=()=>{g.value=q.value,p.value=j.value};M(()=>{const F=D(b.value);c.value=F.r,i.value=F.g,r.value=F.b,S.value=F.a,h.value=F.h,v.value=F.s,m.value=F.v,I()}),X(()=>{s("changeColor",{rgba:$.value,hsv:L.value,hex:g.value})});const ae=F=>{const l=D(F);c.value=l.r,i.value=l.g,r.value=l.b,S.value=l.a,h.value=l.h,v.value=l.s,m.value=l.v,I()},le=F=>{const l=D(F);c.value=l.r,i.value=l.g,r.value=l.b,S.value=l.a,h.value=l.h,v.value=l.s,m.value=l.v,I(),P(()=>{f.value.renderColor(f.value.canvasSaturation),f.value.renderSlide()})},oe=F=>{const l=D(F);c.value=l.r,i.value=l.g,r.value=l.b,S.value=l.a,h.value=l.h,v.value=l.s,m.value=l.v,g.value=F,p.value=j.value,P(()=>{f.value.renderColor(f.value.canvasSaturation),f.value.renderSlide(),y.value.renderSlide()})},ne=F=>{const l=D(F);c.value=l.r,i.value=l.g,r.value=l.b,S.value=l.a,h.value=l.h,v.value=l.s,m.value=l.v,g.value=q.value,p.value=`${c.value}, ${i.value}, ${r.value}`,P(()=>{f.value.renderColor(f.value.canvasSaturation),f.value.renderSlide(),y.value.renderSlide()})},se=F=>{const l=D(F);c.value=l.r,i.value=l.g,r.value=l.b,S.value=l.a,h.value=l.h,v.value=l.s,m.value=l.v,I(),P(()=>{f.value.renderColor(f.value.canvasSaturation),f.value.renderSlide(),y.value.renderSlide()})};return(F,l)=>(k(),H("div",{class:de(["hu-color-picker rounded bg-gray-800 shadow",{light:V.value}]),style:N({width:x.value+"px"})},[_("div",_e,[E(Q,{ref_key:"saturation",ref:f,color:K.value,hsv:L.value,size:a.value,onSelectSaturation:ae},null,8,["color","hsv","size"]),E(Z,{ref_key:"hue",ref:y,hsv:L.value,width:u.value,height:a.value,onSelectHue:le},null,8,["hsv","width","height"])]),_("div",{style:N({height:n.value+"px"}),class:"color-show"},[E(ee,{color:T.value,width:B.value,height:n.value},null,8,["color","width","height"])],4),E(O,{name:"HEX",color:g.value,onInputColor:oe},null,8,["color"]),E(O,{name:"RGBA",color:p.value,onInputColor:ne},null,8,["color"]),E(te,{color:T.value,"colors-default":e.colorsDefault,"colors-history-key":e.colorsHistoryKey,onSelectColor:se},null,8,["color","colors-default","colors-history-key"])],6))}});be.__docgenInfo={exportName:"default",displayName:"ColorPicker",description:"",tags:{},props:[{name:"color",type:{name:"string"},defaultValue:{func:!1,value:"'#000000'"}},{name:"theme",type:{name:"string"},defaultValue:{func:!1,value:"'dark'"}},{name:"colorsDefault",type:{name:"string[]"},defaultValue:{func:!0,value:`() => [
  '#000000',
  '#FFFFFF',
  '#FF1900',
  '#F47365',
  '#FFB243',
  '#FFE623',
  '#6EFF2A',
  '#1BC7B1',
  '#00BEFF',
  '#2E81FF',
  '#5D61FF',
  '#FF89CF',
  '#FC3CAD',
  '#BF3DCE',
  '#8E00A7',
]`}},{name:"colorsHistoryKey",type:{name:"string"},defaultValue:{func:!1,value:"'vue-colorpicker-history'"}}],events:[{name:"changeColor"}]};export{be as _};
