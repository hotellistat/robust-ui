import{e as extractComponentDescription,a as enhanceArgTypes,h as hasDocgen,b as extractComponentProps,c as convert4,S as SourceType,d as SNIPPET_RENDERED}from"./index-eee72b75.js";import{w as watch,h,b as baseParse,i as isVNode}from"./vue.esm-bundler-055c4c85.js";import{l as lodashExports}from"./lodash-f6b38868.js";import"./_commonjsHelpers-de833af9.js";const{addons}=__STORYBOOK_MODULE_PREVIEW_API__;var SECTIONS=["props","events","slots","methods"],extractArgTypes=e=>{if(!hasDocgen(e))return null;let r={};return SECTIONS.forEach(t=>{extractComponentProps(e,t).forEach(({propDef:o,docgenInfo:n,jsDocTags:s})=>{let{name:a,type:i,description:c,defaultValue:l,required:p}=o,m=t==="props"?convert4(n):{name:"void"};r[a]={name:a,description:c,type:{required:p,...m},table:{type:i,jsDocTags:s,defaultValue:l,category:t}}})}),r},omitEvent=e=>e?Object.fromEntries(Object.entries(e).filter(([r,t])=>!r.startsWith("on"))):{},displayObject=e=>e&&typeof e=="object"?`{${Object.keys(e).map(r=>`${r}:${displayObject(e[r])}`).join(",")}}`:typeof e=="string"?`'${e}'`:e==null?void 0:e.toString(),htmlEventAttributeToVueEventAttribute=e=>/^on[A-Za-z]/.test(e)?e.replace(/^on/,"v-on:").toLowerCase():e,directiveSource=(e,r)=>e.includes("on")?`${htmlEventAttributeToVueEventAttribute(e)}='()=>({})'`:`${e}="${r}"`,attributeSource=(e,r,t)=>["boolean","number","object"].includes(typeof r)||t&&["style","class"].includes(e)?`:${e}="${displayObject(r)}"`:directiveSource(e,r),evalExp=(e,r)=>{let t=e;return t&&/v-bind="(\w+)"/.test(t)?t.replace(/"(\w+)"/g,`"${displayObject(r)}"`):(Object.keys(r).forEach(o=>{let n=new RegExp(`(\\w+)\\.${o}`,"g"),s=new RegExp(`(\\w+)\\.${o}`,"g");n.test(t)&&(t=t.replace(s,displayObject(r[o])))}),t)},replaceValueWithRef=(e,r,t)=>{let o=t?r[t]:"args",n=()=>{let a=Object.fromEntries(Object.entries(r).map(([i])=>[i,i]));return displayObject(a).replace(/'/g,"")},s=new RegExp(`="${o}"`,"g");return e.replace(s,`="${t??n()}"`)};function generateExpression(e){let r=e.toString().split("=>")[1].trim().replace("return","").trim();return r.startsWith("{")&&r.endsWith("}")&&(r=r.substring(1,r.length-1).trim()),`{{${r}}}`}var skipSourceRender=e=>{var n;let r=(n=e==null?void 0:e.parameters.docs)==null?void 0:n.source,t=e==null?void 0:e.parameters.__isArgsStory,o=(e==null?void 0:e.viewMode)==="docs";return(r==null?void 0:r.type)===SourceType.DYNAMIC?!1:!o||!t||(r==null?void 0:r.code)||(r==null?void 0:r.type)===SourceType.CODE};function generateAttributesSource(e,r,t,o){return Object.keys(e).map(n=>{var i;let s=e[n].loc.source.replace(/\$props/g,"args"),a=(i=e[n].arg)==null?void 0:i.loc.source;return o&&a?replaceValueWithRef(s,r,a):evalExp(s,omitEvent(r))}).join(" ")}function mapAttributesAndDirectives(e){let r=t=>t.startsWith("on")?t:lodashExports.kebabCase(t);return Object.keys(e).map(t=>({name:"bind",type:["v-","@","v-on"].includes(t)?7:6,arg:{content:r(t),loc:{source:r(t)}},loc:{source:attributeSource(r(t),e[t])},exp:{isStatic:!1,loc:{source:e[t]}},modifiers:[""]}))}function mapSlots(e,r,t){return Object.keys(e).map(o=>{var c,l;let n=e[o],s="",a=(l=(c=t.find(p=>p.name===o&&p.scoped))==null?void 0:c.bindings)==null?void 0:l.map(p=>p.name).join(",");typeof n=="string"?s=n:typeof n=="function"?s=generateExpression(n):isVNode(n)?s=r(n):typeof n=="object"&&!isVNode(n)&&(s=JSON.stringify(n));let i=a?`="{${a}}"`:"";return s=n?`<template #${o}${i}>${s}</template>`:"",{type:2,content:s,loc:{source:s,start:{offset:0,line:1,column:0},end:{offset:0,line:1,column:0}}}})}function generateScriptSetup(e,r,t){let o=Object.keys(e).map(n=>`const ${n} = ${typeof e[n]=="function"?"()=>{}":`ref(${JSON.stringify(e[n])});`}`);return o.unshift('import { ref } from "vue";'),`<script lang='ts' setup>${o.join(`
`)}<\/script>`}function getTemplateComponents(e,r){try{let t=e,o=t?t(r==null?void 0:r.args,r):r==null?void 0:r.component,n=typeof o=="function"?o():o,{template:s}=n;return s?getComponents(s):[h(n,r==null?void 0:r.args)]}catch(t){return[]}}function getComponents(e){var t;return((t=baseParse(e))==null?void 0:t.children)||[]}function generateTemplateSource(componentOrNodes,{args,argTypes},byRef=!1){let isElementNode=e=>e&&e.type===1,isInterpolationNode=e=>e&&e.type===5,isTextNode=e=>e&&e.type===2,generateComponentSource=componentOrNode=>{var e,r;if(isElementNode(componentOrNode)){let{tag:t,props:o,children:n}=componentOrNode,s=typeof n=="string"?n:n.map(i=>generateComponentSource(i)).join(""),a=generateAttributesSource(o,args,argTypes,byRef);return s===""?`<${t} ${a} />`:`<${t} ${a}>${s}</${t}>`}if(isTextNode(componentOrNode)){let{content:t}=componentOrNode;return t}if(isInterpolationNode(componentOrNode)){let{content}=componentOrNode,expValue=evalExp(content.loc.source,args);return expValue===content.loc.source?`{{${expValue}}}`:eval(expValue)}if(isVNode(componentOrNode)){let t=componentOrNode,{props:o,type:n,children:s}=t,a=typeof s=="string"?void 0:s,i=(e=n==null?void 0:n.__docgenInfo)==null?void 0:e.slots,c=a?Object.fromEntries(Object.entries(o??{}).filter(([u,g])=>!a[u]&&!["class","style"].includes(u)).map(([u,g])=>[u,g])):o,l=mapAttributesAndDirectives(c??{}),p=Object.fromEntries(Object.entries(o??{}).filter(([u,g])=>a==null?void 0:a[u])),m=s?typeof s=="string"?s:mapSlots(p,generateComponentSource,i??[]).map(u=>u.content).join(""):"",d=typeof n=="string"?n:n.name||n.__name||((r=n.__docgenInfo)==null?void 0:r.displayName),f=generateAttributesSource(l,args,argTypes,byRef);return m.trim()===""?`<${d} ${f}/>`:`<${d} ${f}>${m}</${d}>`}return null},componentsOrNodes=Array.isArray(componentOrNodes)?componentOrNodes:[componentOrNodes],source=componentsOrNodes.map(e=>generateComponentSource(e)).join(" ");return source||null}var sourceDecorator=(e,r)=>{let t=skipSourceRender(r),o=e();return watch(()=>r.args,()=>{t||generateSource(r)},{immediate:!0,deep:!0}),o};function generateSource(e){var l,p,m;let r=addons.getChannel(),{args:t={},argTypes:o={},id:n}=e||{},s=getTemplateComponents(e==null?void 0:e.originalStoryFn,e),a=((m=(p=(l=e==null?void 0:e.parameters)==null?void 0:l.docs)==null?void 0:p.source)==null?void 0:m.withScriptSetup)||!1,i=a?generateScriptSetup(t):"",c=generateTemplateSource(s,e,a);if(c){let d=`${i}
 <template>
 ${c} 
</template>`;return r.emit(SNIPPET_RENDERED,{id:n,args:t,source:d,format:"vue"}),d}return null}var parameters={docs:{story:{inline:!0},extractArgTypes,extractComponentDescription}},decorators=[sourceDecorator],argTypesEnhancers=[enhanceArgTypes];export{argTypesEnhancers,decorators,parameters};
