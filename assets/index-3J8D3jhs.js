import{d as c,r as i,t as u,o as f,w as m,h as e}from"./vue.esm-bundler-U1mN_w1c.js";import{_ as d}from"./index-YPuapsoM.js";import{I as g}from"./PhWarning.vue-VmnKjyII.js";const I=c({name:"RobustImg",props:{src:{type:String,required:!0},fallbackSrc:{type:String,default:void 0}},emits:["loaded","error"],setup(n,{emit:o}){const s=i(!0),a=i(!1),{src:t}=u(n),r=new Image;return r.onload=()=>{o("loaded",!0),s.value=!1},r.onerror=l=>{o("error",l),a.value=!0,s.value=!1},f(()=>{r.src=t.value}),m(t,()=>{r.src=t.value}),{error:a,loading:s}},render(){return this.loading?e("div",{class:"flex items-center justify-center"},e(d,{size:24,stroke:2})):this.error?this.fallbackSrc?e("img",{src:this.fallbackSrc}):e(g,{size:20}):e("img",{src:this.src})}});export{I};
