import{d as ee,p as o,a as p,s as te,V as ae,o as i,b as c,f as N,g as v,F as ne,v as se,u as g,H as B,x as re,n as le,O as _,I as x}from"./vue.esm-bundler-e6794ced.js";const ue=["aria-valuemax","aria-valuemin","aria-valuenow","tabindex","onKeydown"],oe=["name","value"],de={class:"base-slider__track-background bg-gray-300 dark:bg-gray-400"},ie={key:0},ce={key:0,class:"base-slider__marker text-xs"},me={class:"text-xs text-gray-400 dark:text-gray-500"},fe=ee({__name:"index",props:{name:{type:String,default:void 0},tabindex:{type:[String,Number],default:void 0},modelValue:{type:Number,required:!0},value:{type:Number,required:!0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:10},snapToSteps:{type:Boolean,default:!1},showMarker:{type:Boolean,default:!1},markerValue:{type:[String,Number],default:void 0},disabled:{type:Boolean,default:!1}},emits:["focus","blur","update:modelValue","change","dragstart","dragend"],setup(l,{expose:F,emit:d}){const t=l,K=o(t.modelValue),y=o(!1),m=o(!1),a=o(t.modelValue),S=o(),w=o(),X=o(),I=p(()=>[{"is-dragging":m.value},{"is-disabled":t.disabled},{"is-active":y.value},{"has-marker":t.showMarker}]),O=p(()=>({transform:"scaleX("+M(a.value)+")"})),U=p(()=>({left:M(a.value)*100+"%"})),W=p(()=>t.markerValue===void 0?t.modelValue:t.markerValue),A=p(()=>{const e=[];let n=t.step*Math.ceil(s()/t.step);for(;n<=u();)e.push(n),n+=t.step;return e}),s=()=>t.max>t.min?t.min:0,u=()=>t.max>t.min?t.max:100,H=()=>{S.value.focus()},R=()=>{b(K)},T=()=>{y.value=!0,d("focus")},D=()=>{y.value=!1,d("blur")},L=e=>{S.value.contains(e.target)||D()},E=e=>{e=k(e),t.snapToSteps&&(e=Y(e)),b(e)},b=e=>{e=k(e),e!==a.value&&(a.value=e,d("update:modelValue",e),d("change",e))},C=()=>{E(a.value+t.step)},P=()=>{E(a.value-t.step)},j=e=>({left:e+"%"}),G=()=>{document.addEventListener("touchend",V),document.addEventListener("mouseup",V),document.addEventListener("click",L),document.addEventListener("touchstart",L),Q()},J=()=>{document.removeEventListener("touchend",V),document.removeEventListener("mouseup",V),document.removeEventListener("click",L)},Q=()=>{const e=k(a.value?a.value:0);b(e)},q=e=>{t.disabled||(y.value||T(),m.value=!0,z(e),document.addEventListener("touchmove",h),document.addEventListener("mousemove",h),d("dragstart",a.value,e))},h=e=>{z(e)},z=e=>{const n=w.value.getBoundingClientRect().left,r=e.touches?e.touches[0].pageX:e.pageX,f=w.value.offsetWidth,Z=(r-n)/f,$=k(s()+Z*(u()-s()));m.value&&b(Math.round($))},V=e=>{m.value&&(m.value=!1,t.snapToSteps&&t.modelValue%t.step!==0&&E(t.modelValue),document.removeEventListener("touchmove",h),document.removeEventListener("mousemove",h),d("dragend",a.value,e))},Y=e=>{const n=Math.floor(e/t.step)*t.step,r=n+t.step,f=(n+r)/2;return n<s()?r>u()?e:r:e>=f&&r<=u()?r:n},M=e=>(e-s())/(u()-s()),k=e=>e<s()?s():e>u()?u():e;return te(()=>{G()}),ae(()=>{J()}),F({getPointStyle:j,focus:H,reset:R}),(e,n)=>(i(),c("div",{ref_key:"slider",ref:S,class:le(["base-slider",g(I)]),role:"slider","aria-valuemax":u(),"aria-valuemin":s(),"aria-valuenow":a.value,tabindex:l.disabled?null:l.tabindex||"0",onBlur:D,onFocus:T,onKeydown:[_(x(P,["prevent"]),["down"]),_(x(P,["prevent"]),["left"]),_(x(C,["prevent"]),["right"]),_(x(C,["prevent"]),["up"])]},[l.name?(i(),c("input",{key:0,class:"base-slider__hidden-input",type:"hidden",name:l.name,value:l.value},null,8,oe)):N("",!0),v("div",{ref_key:"track",ref:w,class:"base-slider__track relative w-full",onMousedown:q,onTouchstart:q},[v("div",de,[l.snapToSteps?(i(),c("div",ie,[(i(!0),c(ne,null,se(g(A),(r,f)=>(i(),c("span",{key:f,class:"base-slider__snap-point",style:B({left:100*M(r)+"%"})},null,4))),128))])):N("",!0)]),v("div",{class:"base-slider__track-fill bg-primary-400",style:B(g(O))},null,4),v("div",{ref_key:"thumb",ref:X,class:"base-slider__thumb bg-primary-400",style:B(g(U))},[l.showMarker?(i(),c("div",ce,[v("span",me,re(g(W)),1)])):N("",!0)],4)],544)],42,ue))}});fe.__docgenInfo={exportName:"default",displayName:"Slider",description:"",tags:{},props:[{name:"name",type:{name:"string"},defaultValue:{func:!1,value:"undefined"}},{name:"tabindex",type:{name:"string|number"},defaultValue:{func:!1,value:"undefined"}},{name:"modelValue",type:{name:"number"},required:!0},{name:"value",type:{name:"number"},required:!0},{name:"min",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"max",type:{name:"number"},defaultValue:{func:!1,value:"100"}},{name:"step",type:{name:"number"},defaultValue:{func:!1,value:"10"}},{name:"snapToSteps",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showMarker",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"markerValue",type:{name:"string|number"},defaultValue:{func:!1,value:"undefined"}},{name:"disabled",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"focus"},{name:"blur"},{name:"update:modelValue"},{name:"change"},{name:"dragstart"},{name:"dragend"}]};export{fe as _};
//# sourceMappingURL=index-b5f7afb9.js.map
