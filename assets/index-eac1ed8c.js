import{d as ee,j as o,a as b,v as ae,U as te,o as d,b as c,f as T,g as y,p as m,F as ne,l as le,n as D,t as se,O as _,G as w}from"./vue.esm-bundler-b37ea11a.js";const re=["aria-valuemax","aria-valuemin","aria-valuenow","tabindex","onKeydown"],ue=["name","value"],oe={key:0},ie={class:"text-xs text-gray-400 dark:text-gray-500"},de=ee({__name:"index",props:{name:{type:String,default:void 0},tabindex:{type:[String,Number],default:void 0},modelValue:{type:Number,required:!0},min:{type:Number,default:0},max:{type:Number,default:100},vertical:{type:Boolean,default:!1},step:{type:Number,default:10},snapToSteps:{type:Boolean,default:!1},showMarker:{type:Boolean,default:!1},markerValue:{type:[String,Number],default:void 0},disabled:{type:Boolean,default:!1}},emits:["focus","blur","update:modelValue","change","dragstart","dragend"],setup(t,{expose:q,emit:i}){const a=t,W=o(a.modelValue),h=o(!1),v=o(!1),n=o(a.modelValue),L=o(),f=o(),X=o(),Y=b(()=>[{"is-dragging":v.value},{"is-disabled":a.disabled},{"is-active":h.value},{"has-marker":a.showMarker}]),$=b(()=>({transform:`scale(${a.vertical?1:p(n.value)},  ${a.vertical?p(n.value):1})`})),j=b(()=>({left:a.vertical?void 0:p(n.value)*100+"%",top:a.vertical?100-p(n.value)*100+"%":void 0})),A=b(()=>a.markerValue===void 0?a.modelValue:a.markerValue),G=b(()=>{const e=[];let l=a.step*Math.ceil(r()/a.step);for(;l<=u();)e.push(l),l+=a.step;return e}),r=()=>a.max>a.min?a.min:0,u=()=>a.max>a.min?a.max:100,H=()=>{L.value.focus()},I=()=>{V(W)},P=()=>{h.value=!0,i("focus")},C=()=>{h.value=!1,i("blur")},E=e=>{L.value.contains(e.target)||C()},M=e=>{e=S(e),a.snapToSteps&&(e=Z(e)),V(e)},V=e=>{e=S(e),e!==n.value&&(n.value=e,i("update:modelValue",e),i("change",e))},z=()=>{M(n.value+a.step)},F=()=>{M(n.value-a.step)},O=e=>({left:e+"%"}),R=()=>{document.addEventListener("touchend",x),document.addEventListener("mouseup",x),document.addEventListener("click",E),document.addEventListener("touchstart",E),Q()},J=()=>{document.removeEventListener("touchend",x),document.removeEventListener("mouseup",x),document.removeEventListener("click",E)},Q=()=>{const e=S(n.value?n.value:0);V(e)},K=e=>{a.disabled||(h.value||P(),v.value=!0,U(e),document.addEventListener("touchmove",k),document.addEventListener("mousemove",k),i("dragstart",n.value,e))},k=e=>{U(e)},U=e=>{if(!f.value)return;const l=f.value.getBoundingClientRect();let s;if(a.vertical){const N=e.touches?e.touches[0].pageY:e.pageY,B=f.value.offsetHeight;s=(l.bottom-N)/B}else{const N=e.touches?e.touches[0].pageX:e.pageX,B=f.value.offsetWidth;s=(N-l.left)/B}const g=S(r()+s*(u()-r()));v.value&&V(Math.round(g))},x=e=>{v.value&&(v.value=!1,a.snapToSteps&&a.modelValue%a.step!==0&&M(a.modelValue),document.removeEventListener("touchmove",k),document.removeEventListener("mousemove",k),i("dragend",n.value,e))},Z=e=>{const l=Math.floor(e/a.step)*a.step,s=l+a.step,g=(l+s)/2;return l<r()?s>u()?e:s:e>=g&&s<=u()?s:l},p=e=>(e-r())/(u()-r()),S=e=>e<r()?r():e>u()?u():e;return ae(()=>{R()}),te(()=>{J()}),q({getPointStyle:O,focus:H,reset:I}),(e,l)=>(d(),c("div",{ref_key:"slider",ref:L,class:m(["base-slider select-none",Y.value]),role:"slider","aria-valuemax":u(),"aria-valuemin":r(),"aria-valuenow":n.value,tabindex:t.disabled?null:t.tabindex||"0",onBlur:C,onFocus:P,onKeydown:[_(w(F,["prevent"]),["down"]),_(w(F,["prevent"]),["left"]),_(w(z,["prevent"]),["right"]),_(w(z,["prevent"]),["up"])]},[t.name?(d(),c("input",{key:0,class:"base-slider__hidden-input",type:"hidden",name:t.name,value:t.modelValue},null,8,ue)):T("",!0),y("div",{ref_key:"track",ref:f,class:m(["base-slider__track relative",[t.vertical?"vertical ":""]]),onMousedown:K,onTouchstart:K},[y("div",{class:m(["base-slider__track-background bg-gray-300 dark:bg-gray-400",[t.vertical?"vertical ":""]])},[t.snapToSteps?(d(),c("div",oe,[(d(!0),c(ne,null,le(G.value,(s,g)=>(d(),c("span",{key:g,class:"base-slider__snap-point",style:D({[t.vertical?"bottom":"left"]:100*p(s)+"%"})},null,4))),128))])):T("",!0)],2),y("div",{class:m(["base-slider__track-fill bg-primary-400",[t.vertical?"vertical ":""]]),style:D($.value)},null,6),y("div",{ref_key:"thumb",ref:X,class:m(["base-slider__thumb bg-primary-400",[t.vertical?"vertical ":""]]),style:D(j.value)},[t.showMarker?(d(),c("div",{key:0,class:m(["base-slider__marker text-xs",[t.vertical?"vertical ":""]])},[y("span",ie,se(A.value),1)],2)):T("",!0)],6)],34)],42,re))}});de.__docgenInfo={exportName:"default",displayName:"Slider",description:"",tags:{},expose:[{name:"getPointStyle"},{name:"focus"},{name:"reset"}],props:[{name:"name",type:{name:"string"},defaultValue:{func:!1,value:"undefined"}},{name:"tabindex",type:{name:"string|number"},defaultValue:{func:!1,value:"undefined"}},{name:"modelValue",type:{name:"number"},required:!0},{name:"min",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"max",type:{name:"number"},defaultValue:{func:!1,value:"100"}},{name:"vertical",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"step",type:{name:"number"},defaultValue:{func:!1,value:"10"}},{name:"snapToSteps",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showMarker",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"markerValue",type:{name:"string|number"},defaultValue:{func:!1,value:"undefined"}},{name:"disabled",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"focus"},{name:"blur"},{name:"update:modelValue"},{name:"change"},{name:"dragstart"},{name:"dragend"}]};export{de as _};
//# sourceMappingURL=index-eac1ed8c.js.map
