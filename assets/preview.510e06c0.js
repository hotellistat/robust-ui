import{w as u,d as w,t as Y}from"./iframe.d3475a2e.js";var{LOGLEVEL:U,console:c}=u,l={trace:1,debug:2,info:3,warn:4,error:5,silent:10},x=U,R=l[x]||l.info,S={trace:(e,...t)=>R<=l.trace&&c.trace(e,...t),debug:(e,...t)=>R<=l.debug&&c.debug(e,...t),info:(e,...t)=>R<=l.info&&c.info(e,...t),warn:(e,...t)=>R<=l.warn&&c.warn(e,...t),error:(e,...t)=>R<=l.error&&c.error(e,...t),log:(e,...t)=>R<l.silent&&c.log(e,...t)},T="backgrounds",{document:h,window:G}=u,H=()=>G.matchMedia("(prefers-reduced-motion: reduce)").matches,M=(e,t=[],r)=>{if(e==="transparent")return"transparent";if(t.find(s=>s.value===e))return e;let n=t.find(s=>s.name===r);if(n)return n.value;if(r){let s=t.map(o=>o.name).join(", ");S.warn(w`
        Backgrounds Addon: could not find the default color "${r}".
        These are the available colors for your story based on your configuration:
        ${s}.
      `)}return"transparent"},D=e=>{(Array.isArray(e)?e:[e]).forEach(k)},k=e=>{let t=h.getElementById(e);t&&t.parentElement.removeChild(t)},B=(e,t)=>{let r=h.getElementById(e);if(r)r.innerHTML!==t&&(r.innerHTML=t);else{let n=h.createElement("style");n.setAttribute("id",e),n.innerHTML=t,h.head.appendChild(n)}},F=(e,t,r)=>{let n=h.getElementById(e);if(n)n.innerHTML!==t&&(n.innerHTML=t);else{let s=h.createElement("style");s.setAttribute("id",e),s.innerHTML=t;let o=`addon-backgrounds-grid${r?`-docs-${r}`:""}`,a=h.getElementById(o);a?a.parentElement.insertBefore(s,a):h.head.appendChild(s)}},N=(e=>(e.CHANNEL_CREATED="channelCreated",e.CONFIG_ERROR="configError",e.STORY_INDEX_INVALIDATED="storyIndexInvalidated",e.STORY_SPECIFIED="storySpecified",e.SET_CONFIG="setConfig",e.SET_STORIES="setStories",e.SET_INDEX="setIndex",e.SET_CURRENT_STORY="setCurrentStory",e.CURRENT_STORY_WAS_SET="currentStoryWasSet",e.FORCE_RE_RENDER="forceReRender",e.FORCE_REMOUNT="forceRemount",e.PRELOAD_ENTRIES="preloadStories",e.STORY_PREPARED="storyPrepared",e.STORY_CHANGED="storyChanged",e.STORY_UNCHANGED="storyUnchanged",e.STORY_RENDERED="storyRendered",e.STORY_MISSING="storyMissing",e.STORY_ERRORED="storyErrored",e.STORY_THREW_EXCEPTION="storyThrewException",e.STORY_RENDER_PHASE_CHANGED="storyRenderPhaseChanged",e.PLAY_FUNCTION_THREW_EXCEPTION="playFunctionThrewException",e.UPDATE_STORY_ARGS="updateStoryArgs",e.STORY_ARGS_UPDATED="storyArgsUpdated",e.RESET_STORY_ARGS="resetStoryArgs",e.SET_GLOBALS="setGlobals",e.UPDATE_GLOBALS="updateGlobals",e.GLOBALS_UPDATED="globalsUpdated",e.REGISTER_SUBSCRIPTION="registerSubscription",e.PREVIEW_KEYDOWN="previewKeydown",e.SELECT_STORY="selectStory",e.STORIES_COLLAPSE_ALL="storiesCollapseAll",e.STORIES_EXPAND_ALL="storiesExpandAll",e.DOCS_RENDERED="docsRendered",e.SHARED_STATE_CHANGED="sharedStateChanged",e.SHARED_STATE_SET="sharedStateSet",e.NAVIGATE_URL="navigateUrl",e.UPDATE_QUERY_PARAMS="updateQueryParams",e))(N||{}),{CHANNEL_CREATED:re,CONFIG_ERROR:ne,STORY_INDEX_INVALIDATED:se,STORY_SPECIFIED:ae,SET_STORIES:ie,SET_INDEX:oe,SET_CONFIG:W,SET_CURRENT_STORY:de,CURRENT_STORY_WAS_SET:le,FORCE_RE_RENDER:he,FORCE_REMOUNT:Ee,STORY_PREPARED:ce,STORY_CHANGED:Re,STORY_UNCHANGED:Se,PRELOAD_ENTRIES:ue,STORY_RENDERED:Te,STORY_MISSING:_e,STORY_ERRORED:pe,STORY_THREW_EXCEPTION:ge,STORY_RENDER_PHASE_CHANGED:Ae,PLAY_FUNCTION_THREW_EXCEPTION:Oe,UPDATE_STORY_ARGS:fe,STORY_ARGS_UPDATED:$e,RESET_STORY_ARGS:me,SET_GLOBALS:ve,UPDATE_GLOBALS:Ce,GLOBALS_UPDATED:De,REGISTER_SUBSCRIPTION:Ne,PREVIEW_KEYDOWN:ye,SELECT_STORY:Le,STORIES_COLLAPSE_ALL:Ie,STORIES_EXPAND_ALL:be,DOCS_RENDERED:Pe,SHARED_STATE_CHANGED:we,SHARED_STATE_SET:Ye,NAVIGATE_URL:Ue,UPDATE_QUERY_PARAMS:xe}=N,X=()=>Math.random().toString(16).slice(2),V=class{constructor({transport:e,async:t=!1}={}){this.sender=X(),this.events={},this.data={},this.isAsync=t,e&&(this.transport=e,this.transport.setHandler(r=>this.handleEvent(r)))}get hasTransport(){return!!this.transport}addListener(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)}emit(e,...t){let r={type:e,args:t,from:this.sender},n={};t.length>=1&&t[0]&&t[0].options&&(n=t[0].options);let s=()=>{this.transport&&this.transport.send(r,n),this.handleEvent(r)};this.isAsync?setImmediate(s):s()}last(e){return this.data[e]}eventNames(){return Object.keys(this.events)}listenerCount(e){let t=this.listeners(e);return t?t.length:0}listeners(e){return this.events[e]||void 0}once(e,t){let r=this.onceListener(e,t);this.addListener(e,r)}removeAllListeners(e){e?this.events[e]&&delete this.events[e]:this.events={}}removeListener(e,t){let r=this.listeners(e);r&&(this.events[e]=r.filter(n=>n!==t))}on(e,t){this.addListener(e,t)}off(e,t){this.removeListener(e,t)}handleEvent(e){let t=this.listeners(e.type);t&&t.length&&t.forEach(r=>{r.apply(e,e.args)}),this.data[e.type]=e.args}onceListener(e,t){let r=(...n)=>(this.removeListener(e,r),t(...n));return r}};function z(){let e={setHandler:()=>{},send:()=>{}};return new V({transport:e})}var K=class{constructor(){this.loaders={},this.elements={},this.config={},this.getChannel=()=>(this.channel||this.setChannel(z()),this.channel),this.getServerChannel=()=>{if(!this.serverChannel)throw new Error("Accessing non-existent serverChannel");return this.serverChannel},this.ready=()=>this.promise,this.hasChannel=()=>!!this.channel,this.hasServerChannel=()=>!!this.serverChannel,this.setChannel=e=>{this.channel=e,this.resolve()},this.setServerChannel=e=>{this.serverChannel=e},this.getElements=e=>(this.elements[e]||(this.elements[e]={}),this.elements[e]),this.addPanel=(e,t)=>{this.add(e,{type:Y.PANEL,...t})},this.add=(e,t)=>{let{type:r}=t,n=this.getElements(r);n[e]={id:e,...t}},this.setConfig=e=>{Object.assign(this.config,e),this.hasChannel()&&this.getChannel().emit(W,e)},this.getConfig=()=>this.config,this.register=(e,t)=>{this.loaders[e]&&S.warn(`${e} was loaded twice, this could have bad side-effects`),this.loaders[e]=t},this.loadAddons=e=>{Object.values(this.loaders).forEach(t=>t(e))},this.promise=new Promise(e=>{this.resolve=()=>e(this.getChannel())})}},f="__STORYBOOK_ADDONS";function j(){return u[f]||(u[f]=new K),u[f]}j();var Q=(e,t)=>e.length===t.length&&e.every((r,n)=>r===t[n]),y=()=>new Error("Storybook preview hooks can only be called inside decorators and story functions.");function q(){return u.STORYBOOK_HOOKS_CONTEXT||null}function L(){let e=q();if(e==null)throw y();return e}function J(e,t,r){let n=L();if(n.currentPhase==="MOUNT"){r!=null&&!Array.isArray(r)&&S.warn(`${e} received a final argument that is not an array (instead, received ${r}). When specified, the final argument must be an array.`);let s={name:e,deps:r};return n.currentHooks.push(s),t(s),s}if(n.currentPhase==="UPDATE"){let s=n.getNextHook();if(s==null)throw new Error("Rendered more hooks than during the previous render.");return s.name!==e&&S.warn(`Storybook has detected a change in the order of Hooks${n.currentDecoratorName?` called by ${n.currentDecoratorName}`:""}. This will lead to bugs and errors if not fixed.`),r!=null&&s.deps==null&&S.warn(`${e} received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.`),r!=null&&s.deps!=null&&r.length!==s.deps.length&&S.warn(`The final argument passed to ${e} changed size between renders. The order and size of this array must remain constant.
Previous: ${s.deps}
Incoming: ${r}`),(r==null||s.deps==null||!Q(r,s.deps))&&(t(s),s.deps=r),s}throw y()}function I(e,t,r){let{memoizedState:n}=J(e,s=>{s.memoizedState=t()},r);return n}function O(e,t){return I("useMemo",e,t)}function b(e,t){let r=L(),n=I("useEffect",()=>({create:e}),t);r.currentEffects.includes(n)||r.currentEffects.push(n)}var Z=(e,t)=>{var p;let{globals:r,parameters:n}=t,s=(p=r[T])==null?void 0:p.value,o=n[T],a=O(()=>o.disable?"transparent":M(s,o.values,o.default),[o,s]),i=O(()=>a&&a!=="transparent",[a]),E=t.viewMode==="docs"?`#anchor--${t.id} .docs-story`:".sb-show-main",_=O(()=>{let d="transition: background-color 0.3s;";return`
      ${E} {
        background: ${a} !important;
        ${H()?"":d}
      }
    `},[a,E]);return b(()=>{let d=t.viewMode==="docs"?`addon-backgrounds-docs-${t.id}`:"addon-backgrounds-color";if(!i){D(d);return}F(d,_,t.viewMode==="docs"?t.id:null)},[i,_,t]),e()},ee=(e,t)=>{var m,v,C;let{globals:r,parameters:n}=t,s=n[T].grid,o=((m=r[T])==null?void 0:m.grid)===!0&&s.disable!==!0,{cellAmount:a,cellSize:i,opacity:E}=s,_=t.viewMode==="docs",p=n.layout===void 0||n.layout==="padded"?16:0,d=(v=s.offsetX)!=null?v:_?20:p,g=(C=s.offsetY)!=null?C:_?20:p,$=O(()=>{let A=t.viewMode==="docs"?`#anchor--${t.id} .docs-story`:".sb-show-main",P=[`${i*a}px ${i*a}px`,`${i*a}px ${i*a}px`,`${i}px ${i}px`,`${i}px ${i}px`].join(", ");return`
      ${A} {
        background-size: ${P} !important;
        background-position: ${d}px ${g}px, ${d}px ${g}px, ${d}px ${g}px, ${d}px ${g}px !important;
        background-blend-mode: difference !important;
        background-image: linear-gradient(rgba(130, 130, 130, ${E}) 1px, transparent 1px),
         linear-gradient(90deg, rgba(130, 130, 130, ${E}) 1px, transparent 1px),
         linear-gradient(rgba(130, 130, 130, ${E/2}) 1px, transparent 1px),
         linear-gradient(90deg, rgba(130, 130, 130, ${E/2}) 1px, transparent 1px) !important;
      }
    `},[i]);return b(()=>{let A=t.viewMode==="docs"?`addon-backgrounds-grid-docs-${t.id}`:"addon-backgrounds-grid";if(!o){D(A);return}B(A,$)},[o,$,t]),e()},Ge=[ee,Z],He={[T]:{grid:{cellSize:20,opacity:.5,cellAmount:5},values:[{name:"light",value:"#F8F8F8"},{name:"dark",value:"#333333"}]}},Me={[T]:null};export{Ge as decorators,Me as globals,He as parameters};
//# sourceMappingURL=preview.510e06c0.js.map
