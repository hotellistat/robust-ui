import{d as ye,t as ge,r,c as b,o as be,Q as he,a as d,b as c,u as h,f as V,g as v,G as _e,H as ke,D as S,y as j,q as xe,R as w,S as M}from"./vue.esm-bundler-5fdd8ab6.js";const Ve=["aria-valuemax","aria-valuemin","aria-valuenow","tabindex","onKeydown"],Se=["name","value"],we={class:"base-slider__track-background bg-gray-300 dark:bg-gray-400"},Me={key:0},Ee={key:0,class:"base-slider__marker text-xs"},Le={class:"text-sm text-gray-400"},De={key:0,class:"base-slider__marker text-xs"},Te={class:"text-sm text-gray-400"},Be=ye({__name:"index",props:{name:{type:String,default:void 0},tabindex:{type:[String,Number],default:void 0},modelValue:{type:Array,required:!0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:10},snapToSteps:{type:Boolean,default:!1},showMarker:{type:Boolean,default:!1},markerValue:{type:[String,Number],default:void 0},disabled:{type:Boolean,default:!1},alwaysActive:{type:Boolean,default:!1}},emits:["focus","blur","update:modelValue","change","dragstart","dragend"],setup(_,{expose:J,emit:Y}){const Z=_,m=Y,{min:E,max:L,markerValue:$,disabled:D,showMarker:T,step:s,snapToSteps:B,modelValue:o,alwaysActive:R}=ge(Z),ee=r(o.value),p=r(!1),y=r(!1),a=r(o.value),N=r(),A=r(),ae=r(),te=r(),n=r(0);if(Array.isArray(o.value)&&(o.value.length>2||o.value.length<2))throw Error("modelValue must be number or array of 2 numbers");const ne=b(()=>[{"is-dragging":y.value},{"is-disabled":D.value},{"is-active":p.value},{"has-marker":T.value}]),le=b(()=>({transform:"scaleX("+(g(a.value[1])-g(a.value[0]))+")",left:q.value.left})),q=b(()=>({left:g(a.value[0])*100+"%"})),se=b(()=>({left:g(a.value[1])*100+"%"})),I=(e=0)=>$.value??a.value[e],ue=b(()=>{const e=[];let t=s.value*Math.ceil(u()/s.value);for(;t<=i();)e.push(t),t+=s.value;return e}),u=()=>L.value>E.value?E.value:0,i=()=>L.value>E.value?L.value:100,re=()=>{N.value.focus()},oe=()=>{for(let e=0;e<2;e++)n.value=e,C(ee.value[e])},K=()=>{p.value=!0,m("focus")},F=()=>{R||(p.value=!1,m("blur"))},H=e=>{var t;(t=N.value)!=null&&t.contains(e.target)||F()},P=e=>{e=X(e),B.value&&(e=fe(e)),C(e)},C=e=>{e=X(e),e!==a.value[n.value]&&(n.value===0&&e>=a.value[1]&&(e=a.value[1]),n.value===1&&e<=a.value[0]&&(e=a.value[0]),a.value[n.value]=e,m("update:modelValue",a.value),m("change",a.value))},U=()=>{P(a.value[n.value]+s.value)},W=()=>{P(a.value[n.value]-s.value)},ie=e=>({left:e+"%"}),de=()=>{document.addEventListener("touchend",x),document.addEventListener("mouseup",x),document.addEventListener("click",H),document.addEventListener("touchstart",H),ve()},ce=()=>{document.removeEventListener("touchend",x),document.removeEventListener("mouseup",x),document.removeEventListener("click",H)},ve=()=>{R.value&&(p.value=!0),oe()},G=e=>{if(D.value)return;p.value||K();const t=O(e);n.value=me(t),n.value,y.value=!0,Q(e),document.addEventListener("touchmove",k),document.addEventListener("mousemove",k),m("dragstart",a.value,e)},k=e=>{Q(e)},me=e=>{let t=0;if(a.value[0]===a.value[1]){const z=a.value[0];return e>z?1:0}const l=Math.abs(a.value[0]-e);return Math.abs(a.value[1]-e)<l&&(t=1),t},O=e=>{const t=A.value.getBoundingClientRect().left,l=e.touches?e.touches[0].pageX:e.pageX,f=A.value.offsetWidth,z=(l-t)/f,pe=X(u()+z*(i()-u()));return Math.round(pe)},Q=e=>{const t=O(e);y.value&&C(Math.round(t))},x=e=>{y.value&&(y.value=!1,B.value&&o.value[n.value]%s.value!==0&&P(o.value[n.value]),document.removeEventListener("touchmove",k),document.removeEventListener("mousemove",k),m("dragend",a.value,e))},fe=e=>{const t=Math.floor(e/s.value)*s.value,l=t+s.value,f=(t+l)/2;return t<u()?l>i()?e:l:e>=f&&l<=i()?l:t},g=e=>(e-u())/(i()-u()),X=e=>e<u()?u():e>i()?i():e;return be(()=>{de()}),he(()=>{ce()}),J({getPointStyle:ie,focus:re}),(e,t)=>(d(),c("div",{ref_key:"slider",ref:N,class:xe(["base-slider relative",ne.value]),role:"slider","aria-valuemax":i(),"aria-valuemin":u(),"aria-valuenow":a.value[0],tabindex:h(D)?null:_.tabindex||"0",onBlur:F,onFocus:K,onKeydown:[w(M(W,["prevent"]),["down"]),w(M(W,["prevent"]),["left"]),w(M(U,["prevent"]),["right"]),w(M(U,["prevent"]),["up"])]},[_.name?(d(),c("input",{key:0,class:"base-slider__hidden-input",type:"hidden",name:_.name,value:h(o)[0]},null,8,Se)):V("",!0),v("div",{ref_key:"track",ref:A,class:"base-slider__track relative w-full",onMousedown:G,onTouchstart:G},[v("div",we,[h(B)?(d(),c("div",Me,[(d(!0),c(_e,null,ke(ue.value,(l,f)=>(d(),c("span",{key:f,class:"base-slider__snap-point",style:S({left:100*g(l)+"%"})},null,4))),128))])):V("",!0)]),v("div",{class:"base-slider__track-fill bg-primary-400",style:S(le.value)},null,4),v("div",{ref_key:"firstThumb",ref:ae,class:"base-slider__thumb bg-primary-400",style:S(q.value)},[h(T)?(d(),c("div",Ee,[v("span",Le,j(I()),1)])):V("",!0)],4),v("div",{ref_key:"secondThumb",ref:te,class:"base-slider__thumb bg-primary-400",style:S(se.value)},[h(T)?(d(),c("div",De,[v("span",Te,j(I(1)),1)])):V("",!0)],4)],544)],42,Ve))}});Be.__docgenInfo={exportName:"default",displayName:"RangeSlider",description:"",tags:{},expose:[{name:"getPointStyle"},{name:"focus"}],props:[{name:"name",type:{name:"string"},defaultValue:{func:!1,value:"undefined"}},{name:"tabindex",type:{name:"string|number"},defaultValue:{func:!1,value:"undefined"}},{name:"modelValue",type:{name:"number[]"},required:!0},{name:"min",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"max",type:{name:"number"},defaultValue:{func:!1,value:"100"}},{name:"step",type:{name:"number"},defaultValue:{func:!1,value:"10"}},{name:"snapToSteps",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showMarker",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"markerValue",type:{name:"string|number"},defaultValue:{func:!1,value:"undefined"}},{name:"disabled",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"alwaysActive",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"focus"},{name:"blur"},{name:"update:modelValue"},{name:"change"},{name:"dragstart"},{name:"dragend"}]};export{Be as _};
