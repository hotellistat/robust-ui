import{d as B,j as d,t as I,k as A,o as x,b as k,g as C,J as V,K as W,L as X,a as H,q as ue,D as re,M as ce,u as N,G as ie,N as ve,F as z,n as G,f as de,l as E,p as fe,C as M}from"./vue.esm-bundler-4519e859.js";function R(e){let t={r:0,g:0,b:0,a:1};/#/.test(e)?t=me(e):/rgb/.test(e)?t=J(e):typeof e=="string"?t=J(`rgba(${e})`):Object.prototype.toString.call(e)==="[object Object]"&&(t=e);const{r:l,g:o,b:n,a:s}=t,{h:u,s:f,v:r}=he(t);return{r:l,g:o,b:n,a:s===void 0?1:s,h:u,s:f,v:r}}function Y(e){const t=document.createElement("canvas"),l=t.getContext("2d"),o=e*2;return t.width=o,t.height=o,l.fillStyle="#ffffff",l.fillRect(0,0,o,o),l.fillStyle="#ccd5db",l.fillRect(0,0,e,e),l.fillRect(e,e,e,e),t}function U(e,t,l,o,n,s){const u=e==="l",f=t.createLinearGradient(0,0,u?l:0,u?0:o);f.addColorStop(.01,n),f.addColorStop(.99,s),t.fillStyle=f,t.fillRect(0,0,l,o)}function pe({r:e,g:t,b:l},o){const n=u=>("0"+Number(u).toString(16)).slice(-2),s=`#${n(e)}${n(t)}${n(l)}`;return o?s.toUpperCase():s}function me(e){e=e.slice(1);const t=l=>parseInt(l,16)||0;return{r:t(e.slice(0,2)),g:t(e.slice(2,4)),b:t(e.slice(4,6))}}function J(e){return typeof e=="string"?(e=(/rgba?\((.*?)\)/.exec(e)||["","0,0,0,1"])[1].split(","),{r:Number(e[0])||0,g:Number(e[1])||0,b:Number(e[2])||0,a:Number(e[3]?e[3]:1)}):e}function he({r:e,g:t,b:l}){e=e/255,t=t/255,l=l/255;const o=Math.max(e,t,l),n=Math.min(e,t,l),s=o-n;let u=0;o===n?u=0:o===e?t>=l?u=60*(t-l)/s:u=60*(t-l)/s+360:o===t?u=60*(l-e)/s+120:o===l&&(u=60*(e-t)/s+240),u=Math.floor(u);const f=parseFloat((o===0?0:1-n/o).toFixed(2)),r=parseFloat(o.toFixed(2));return{h:u,s:f,v:r}}const ge=["onMousedown"],Q=B({__name:"CoorPickerSaturation",props:{color:{type:String,default:"#000000"},hsv:{type:Object,default:null},size:{type:Number,default:152}},emits:["selectSaturation"],setup(e,{emit:t}){const l=e,o=d({}),{size:n,hsv:s,color:u}=I(l),f=d(),r=d(),v=h=>{const m=h,i=n.value,g=m.getContext("2d");m.width=i,m.height=i,g.fillStyle=u.value,g.fillRect(0,0,i,i),U("l",g,i,i,"#FFFFFF","rgba(255,255,255,0)"),U("p",g,i,i,"rgba(0,0,0,0)","#000000")},c=()=>{o.value={left:s.value.s*n.value-5+"px",top:(1-s.value.v)*n.value-5+"px"}},_=h=>{const{top:m,left:i}=f.value.getBoundingClientRect(),g=h.target.getContext("2d"),p=S=>{let w=S.clientX-i,b=S.clientY-m;w<0&&(w=0),b<0&&(b=0),w>n.value&&(w=n.value),b>n.value&&(b=n.value),o.value={left:w-5+"px",top:b-5+"px"};const D=g.getImageData(Math.min(w,n.value-1),Math.min(b,n.value-1),1,1),[$,P,K]=D.data;t("selectSaturation",{r:$,g:P,b:K})};p(h);const F=()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",F)};document.addEventListener("mousemove",p),document.addEventListener("mouseup",F)};return A(()=>{v(r.value),c()}),(h,m)=>(x(),k("div",{ref_key:"saturation",ref:f,class:"saturation",onMousedown:W(_,["prevent","stop"])},[C("canvas",{ref_key:"canvasSaturation",ref:r},null,512),C("div",{style:V(o.value),class:"slide"},null,4)],40,ge))}});Q.__docgenInfo={exportName:"default",displayName:"CoorPickerSaturation",description:"",tags:{},props:[{name:"color",type:{name:"string"},defaultValue:{func:!1,value:"'#000000'"}},{name:"hsv",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"size",type:{name:"number"},defaultValue:{func:!1,value:"152"}}],events:[{name:"selectSaturation"}]};const ye=["onMousedown"],Z=B({__name:"ColorPickerHue",props:{hsv:{type:Object,default:null},width:{type:Number,default:15},height:{type:Number,default:152}},emits:["selectHue"],setup(e,{emit:t}){const l=e,o=d({}),n=d(),{height:s,width:u,hsv:f}=I(l),r=d(),v=h=>{const m=h,i=u.value,g=s.value,p=m.getContext("2d");m.width=i,m.height=g;const F=p.createLinearGradient(0,0,0,g);F.addColorStop(0,"#FF0000"),F.addColorStop(.17*1,"#FF00FF"),F.addColorStop(.17*2,"#0000FF"),F.addColorStop(.17*3,"#00FFFF"),F.addColorStop(.17*4,"#00FF00"),F.addColorStop(.17*5,"#FFFF00"),F.addColorStop(1,"#FF0000"),p.fillStyle=F,p.fillRect(0,0,i,g)},c=()=>{o.value={top:(1-f.value.h/360)*s.value-2+"px"}},_=h=>{const{top:m}=r.value.getBoundingClientRect(),i=h.target.getContext("2d"),g=F=>{let S=F.clientY-m;S<0&&(S=0),S>s.value&&(S=s.value),o.value={top:S-2+"px"};const w=i.getImageData(0,Math.min(S,s.value-1),1,1),[b,D,$]=w.data;t("selectHue",{r:b,g:D,b:$})};g(h);const p=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",p)};document.addEventListener("mousemove",g),document.addEventListener("mouseup",p)};return A(()=>{v(n.value),c()}),(h,m)=>(x(),k("div",{ref_key:"hue",ref:r,class:"hue",onMousedown:W(_,["prevent","stop"])},[C("canvas",{ref_key:"canvasHue",ref:n},null,512),C("div",{style:V(o.value),class:"slide"},null,4)],40,ye))}});Z.__docgenInfo={exportName:"default",displayName:"ColorPickerHue",description:"",tags:{},props:[{name:"hsv",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"width",type:{name:"number"},defaultValue:{func:!1,value:"15"}},{name:"height",type:{name:"number"},defaultValue:{func:!1,value:"152"}}],events:[{name:"selectHue"}]};const ee=B({__name:"ColorPickerPreview",props:{color:{type:String,default:"#000000"},width:{type:Number,default:100},height:{type:Number,default:30}},setup(e){const t=e,l=d(5),{color:o,width:n,height:s}=I(t),u=d(),f=r=>{const v=r,c=n.value,_=s.value,h=l.value,m=Y(h),i=v.getContext("2d");v.width=c,v.height=_,i.fillStyle=i.createPattern(m,"repeat"),i.fillRect(0,0,c,_),i.fillStyle=o.value,i.fillRect(0,0,c,_)};return A(()=>{X(()=>{f(u.value)}),f(u.value)}),(r,v)=>(x(),k("canvas",{ref_key:"canvas",ref:u},null,512))}});ee.__docgenInfo={exportName:"default",displayName:"ColorPickerPreview",description:"",tags:{},props:[{name:"color",type:{name:"string"},defaultValue:{func:!1,value:"'#000000'"}},{name:"width",type:{name:"number"},defaultValue:{func:!1,value:"100"}},{name:"height",type:{name:"number"},defaultValue:{func:!1,value:"30"}}]};const _e={class:"color-type"},Fe={class:"name"},O=B({__name:"ColorPickerBox",props:{name:{type:String,default:""},color:{type:String,default:""}},emits:["inputColor"],setup(e,{emit:t}){const l=e,o=H({get(){return l.color||""},set(n){t("inputColor",n)}});return(n,s)=>(x(),k("div",_e,[C("span",Fe,ue(e.name),1),re(C("input",{"onUpdate:modelValue":s[0]||(s[0]=u=>ie(o)?o.value=u:null),class:"value"},null,512),[[ce,N(o)]])]))}});O.__docgenInfo={exportName:"default",displayName:"ColorPickerBox",description:"",tags:{},props:[{name:"name",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"color",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],events:[{name:"inputColor"}]};const Ce={class:"colors"},Se=["onClick"],be={key:0,class:"colors history"},xe=["onClick"],te=B({__name:"ColorPickerColors",props:{color:{type:String,default:"#000000"},colorsDefault:{type:Array,required:!0},colorsHistoryKey:{type:String,default:""}},emits:["selectColor"],setup(e,{emit:t}){const l=e,o=d(),n=d([]),s=d();l.colorsHistoryKey&&localStorage&&(n.value=JSON.parse(localStorage.getItem(l.colorsHistoryKey))||[]),s.value=Y(4).toDataURL(),ve(()=>{u(o.value)});const u=r=>{if(!r)return;const v=n.value||[],c=v.indexOf(r);c>=0&&v.splice(c,1),v.length>=8&&(v.length=7),v.unshift(r),n.value=v||[],localStorage&&l.colorsHistoryKey&&localStorage.setItem(l.colorsHistoryKey,JSON.stringify(v))},f=r=>{t("selectColor",r)};return(r,v)=>(x(),k("div",null,[C("ul",Ce,[(x(!0),k(z,null,G(e.colorsDefault,c=>(x(),k("li",{key:c,class:"item",onClick:_=>f(c)},[C("div",{style:V({background:`url(${s.value})`}),class:"alpha"},null,4),C("div",{style:V({background:c}),class:"color"},null,4)],8,Se))),128))]),n.value.length?(x(),k("ul",be,[(x(!0),k(z,null,G(n.value,c=>(x(),k("li",{key:c,class:"item",onClick:_=>f(c)},[C("div",{style:V({background:`url(${s.value})`}),class:"alpha"},null,4),C("div",{style:V({background:c}),class:"color"},null,4)],8,xe))),128))])):de("",!0)]))}});te.__docgenInfo={exportName:"default",displayName:"ColorPickerColors",description:"",tags:{},props:[{name:"color",type:{name:"string"},defaultValue:{func:!1,value:"'#000000'"}},{name:"colorsDefault",type:{name:"string[]"},required:!0},{name:"colorsHistoryKey",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],events:[{name:"selectColor"}]};const ke={class:"color-set"},we=B({__name:"index",props:{color:{type:String,default:"#000000"},theme:{type:String,default:"dark"},colorsDefault:{type:Array,default:()=>["#000000","#FFFFFF","#FF1900","#F47365","#FFB243","#FFE623","#6EFF2A","#1BC7B1","#00BEFF","#2E81FF","#5D61FF","#FF89CF","#FC3CAD","#BF3DCE","#8E00A7"]},colorsHistoryKey:{type:String,default:"vue-colorpicker-history"}},emits:["changeColor"],setup(e,{emit:t}){const l=e,o=d(15),n=d(152),s=d(20),u=d(""),f=d(""),r=d(0),v=d(0),c=d(0),_=d(1),h=d(0),m=d(0),i=d(0),g=d(),p=d(),{theme:F,color:S}=I(l),w=H(()=>F.value==="light"),b=H(()=>n.value+(o.value+8)*2),D=H(()=>b.value-s.value),$=H(()=>({r:r.value,g:v.value,b:c.value,a:_.value})),P=H(()=>({h:h.value,s:m.value,v:i.value})),K=H(()=>`rgb(${r.value}, ${v.value}, ${c.value})`),j=H(()=>`${r.value}, ${v.value}, ${c.value}`),T=H(()=>`rgb(${j.value})`),q=H(()=>pe($.value,!0)),L=()=>{f.value=q.value,u.value=j.value};A(()=>{const y=R(S.value);r.value=y.r,v.value=y.g,c.value=y.b,_.value=y.a,h.value=y.h,m.value=y.s,i.value=y.v,L()}),X(()=>{t("changeColor",{rgba:$.value,hsv:P.value,hex:f.value})});const ae=y=>{const a=R(y);r.value=a.r,v.value=a.g,c.value=a.b,_.value=a.a,h.value=a.h,m.value=a.s,i.value=a.v,L()},le=y=>{const a=R(y);r.value=a.r,v.value=a.g,c.value=a.b,_.value=a.a,h.value=a.h,m.value=a.s,i.value=a.v,L(),M(()=>{p.value.renderColor(p.value.canvasSaturation),p.value.renderSlide()})},oe=y=>{const a=R(y);r.value=a.r,v.value=a.g,c.value=a.b,_.value=a.a,h.value=a.h,m.value=a.s,i.value=a.v,f.value=y,u.value=j.value,M(()=>{p.value.renderColor(p.value.canvasSaturation),p.value.renderSlide(),g.value.renderSlide()})},ne=y=>{const a=R(y);r.value=a.r,v.value=a.g,c.value=a.b,_.value=a.a,h.value=a.h,m.value=a.s,i.value=a.v,f.value=q.value,u.value=`${r.value}, ${v.value}, ${c.value}`,M(()=>{p.value.renderColor(p.value.canvasSaturation),p.value.renderSlide(),g.value.renderSlide()})},se=y=>{const a=R(y);r.value=a.r,v.value=a.g,c.value=a.b,_.value=a.a,h.value=a.h,m.value=a.s,i.value=a.v,L(),M(()=>{p.value.renderColor(p.value.canvasSaturation),p.value.renderSlide(),g.value.renderSlide()})};return(y,a)=>(x(),k("div",{class:fe(["hu-color-picker rounded bg-gray-800 shadow",{light:N(w)}]),style:V({width:N(b)+"px"})},[C("div",ke,[E(Q,{ref_key:"saturation",ref:p,color:N(K),hsv:N(P),size:n.value,onSelectSaturation:ae},null,8,["color","hsv","size"]),E(Z,{ref_key:"hue",ref:g,hsv:N(P),width:o.value,height:n.value,onSelectHue:le},null,8,["hsv","width","height"])]),C("div",{style:V({height:s.value+"px"}),class:"color-show"},[E(ee,{color:N(T),width:N(D),height:s.value},null,8,["color","width","height"])],4),E(O,{name:"HEX",color:f.value,onInputColor:oe},null,8,["color"]),E(O,{name:"RGBA",color:u.value,onInputColor:ne},null,8,["color"]),E(te,{color:N(T),"colors-default":e.colorsDefault,"colors-history-key":e.colorsHistoryKey,onSelectColor:se},null,8,["color","colors-default","colors-history-key"])],6))}});we.__docgenInfo={exportName:"default",displayName:"ColorPicker",description:"",tags:{},props:[{name:"color",type:{name:"string"},defaultValue:{func:!1,value:"'#000000'"}},{name:"theme",type:{name:"string"},defaultValue:{func:!1,value:"'dark'"}},{name:"colorsDefault",type:{name:"string[]"},defaultValue:{func:!0,value:`() => [
  '#000000',
  '#FFFFFF',
  '#FF1900',
  '#F47365',
  '#FFB243',
  '#FFE623',
  '#6EFF2A',
  '#1BC7B1',
  '#00BEFF',
  '#2E81FF',
  '#5D61FF',
  '#FF89CF',
  '#FC3CAD',
  '#BF3DCE',
  '#8E00A7',
]`}},{name:"colorsHistoryKey",type:{name:"string"},defaultValue:{func:!1,value:"'vue-colorpicker-history'"}}],events:[{name:"changeColor"}]};export{we as _};
//# sourceMappingURL=index-89f41328.js.map
