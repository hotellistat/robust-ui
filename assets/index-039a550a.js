import{d as $,j as o,a as p,v as ee,U as ae,o as i,b as c,f as M,g as v,F as te,l as ne,n as N,t as se,p as le,O as k,G as _}from"./vue.esm-bundler-49cceb47.js";const re=["aria-valuemax","aria-valuemin","aria-valuenow","tabindex","onKeydown"],ue=["name","value"],oe={class:"base-slider__track-background bg-gray-300 dark:bg-gray-400"},de={key:0},ie={key:0,class:"base-slider__marker text-xs"},ce={class:"text-xs text-gray-400 dark:text-gray-500"},me=$({__name:"index",props:{name:{type:String,default:void 0},tabindex:{type:[String,Number],default:void 0},modelValue:{type:Number,required:!0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:10},snapToSteps:{type:Boolean,default:!1},showMarker:{type:Boolean,default:!1},markerValue:{type:[String,Number],default:void 0},disabled:{type:Boolean,default:!1}},emits:["focus","blur","update:modelValue","change","dragstart","dragend"],setup(r,{expose:F,emit:d}){const a=r,K=o(a.modelValue),g=o(!1),m=o(!1),t=o(a.modelValue),x=o(),S=o(),U=o(),X=p(()=>[{"is-dragging":m.value},{"is-disabled":a.disabled},{"is-active":g.value},{"has-marker":a.showMarker}]),q=p(()=>({transform:"scaleX("+E(t.value)+")"})),O=p(()=>({left:E(t.value)*100+"%"})),W=p(()=>a.markerValue===void 0?a.modelValue:a.markerValue),j=p(()=>{const e=[];let n=a.step*Math.ceil(s()/a.step);for(;n<=u();)e.push(n),n+=a.step;return e}),s=()=>a.max>a.min?a.min:0,u=()=>a.max>a.min?a.max:100,A=()=>{x.value.focus()},G=()=>{y(K)},B=()=>{g.value=!0,d("focus")},T=()=>{g.value=!1,d("blur")},w=e=>{x.value.contains(e.target)||T()},L=e=>{e=V(e),a.snapToSteps&&(e=Q(e)),y(e)},y=e=>{e=V(e),e!==t.value&&(t.value=e,d("update:modelValue",e),d("change",e))},D=()=>{L(t.value+a.step)},P=()=>{L(t.value-a.step)},I=e=>({left:e+"%"}),R=()=>{document.addEventListener("touchend",h),document.addEventListener("mouseup",h),document.addEventListener("click",w),document.addEventListener("touchstart",w),J()},H=()=>{document.removeEventListener("touchend",h),document.removeEventListener("mouseup",h),document.removeEventListener("click",w)},J=()=>{const e=V(t.value?t.value:0);y(e)},C=e=>{a.disabled||(g.value||B(),m.value=!0,z(e),document.addEventListener("touchmove",b),document.addEventListener("mousemove",b),d("dragstart",t.value,e))},b=e=>{z(e)},z=e=>{const n=S.value.getBoundingClientRect().left,l=e.touches?e.touches[0].pageX:e.pageX,f=S.value.offsetWidth,Y=(l-n)/f,Z=V(s()+Y*(u()-s()));m.value&&y(Math.round(Z))},h=e=>{m.value&&(m.value=!1,a.snapToSteps&&a.modelValue%a.step!==0&&L(a.modelValue),document.removeEventListener("touchmove",b),document.removeEventListener("mousemove",b),d("dragend",t.value,e))},Q=e=>{const n=Math.floor(e/a.step)*a.step,l=n+a.step,f=(n+l)/2;return n<s()?l>u()?e:l:e>=f&&l<=u()?l:n},E=e=>(e-s())/(u()-s()),V=e=>e<s()?s():e>u()?u():e;return ee(()=>{R()}),ae(()=>{H()}),F({getPointStyle:I,focus:A,reset:G}),(e,n)=>(i(),c("div",{ref_key:"slider",ref:x,class:le(["base-slider",X.value]),role:"slider","aria-valuemax":u(),"aria-valuemin":s(),"aria-valuenow":t.value,tabindex:r.disabled?null:r.tabindex||"0",onBlur:T,onFocus:B,onKeydown:[k(_(P,["prevent"]),["down"]),k(_(P,["prevent"]),["left"]),k(_(D,["prevent"]),["right"]),k(_(D,["prevent"]),["up"])]},[r.name?(i(),c("input",{key:0,class:"base-slider__hidden-input",type:"hidden",name:r.name,value:r.modelValue},null,8,ue)):M("",!0),v("div",{ref_key:"track",ref:S,class:"base-slider__track relative w-full",onMousedown:C,onTouchstart:C},[v("div",oe,[r.snapToSteps?(i(),c("div",de,[(i(!0),c(te,null,ne(j.value,(l,f)=>(i(),c("span",{key:f,class:"base-slider__snap-point",style:N({left:100*E(l)+"%"})},null,4))),128))])):M("",!0)]),v("div",{class:"base-slider__track-fill bg-primary-400",style:N(q.value)},null,4),v("div",{ref_key:"thumb",ref:U,class:"base-slider__thumb bg-primary-400",style:N(O.value)},[r.showMarker?(i(),c("div",ie,[v("span",ce,se(W.value),1)])):M("",!0)],4)],544)],42,re))}});me.__docgenInfo={exportName:"default",displayName:"Slider",description:"",tags:{},expose:[{name:"getPointStyle"},{name:"focus"},{name:"reset"}],props:[{name:"name",type:{name:"string"},defaultValue:{func:!1,value:"undefined"}},{name:"tabindex",type:{name:"string|number"},defaultValue:{func:!1,value:"undefined"}},{name:"modelValue",type:{name:"number"},required:!0},{name:"min",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"max",type:{name:"number"},defaultValue:{func:!1,value:"100"}},{name:"step",type:{name:"number"},defaultValue:{func:!1,value:"10"}},{name:"snapToSteps",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showMarker",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"markerValue",type:{name:"string|number"},defaultValue:{func:!1,value:"undefined"}},{name:"disabled",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"focus"},{name:"blur"},{name:"update:modelValue"},{name:"change"},{name:"dragstart"},{name:"dragend"}]};export{me as _};
//# sourceMappingURL=index-039a550a.js.map
