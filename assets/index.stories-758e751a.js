import{d as E,t as F,j as v,w as M,k as q,o as p,b as c,g as n,u as i,l as k,F as w,n as P,p as b,q as S,f as z,s as H,v as L}from"./vue.esm-bundler-9cbc270d.js";import{o as T,I as U}from"./index-419285db.js";import{I as A,H as G}from"./PhCaretRight.vue-4de73c41.js";const D=s=>(H("data-v-84623b55"),s=s(),L(),s),J={class:"flex"},K={class:"relative z-0 inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},Q=D(()=>n("span",{class:"sr-only"},"Previous",-1)),W=["onClick"],X={key:0,class:"paginate-btn relative inline-flex w-12 items-center justify-center border-gray-200 bg-gray-50 py-2 text-sm font-medium text-gray-700 hover:bg-gray-300 dark:border-gray-600 dark:bg-gray-800"},Y=D(()=>n("span",{class:"sr-only"},"Next",-1)),Z={key:0},ee={class:"min-w-0 select-none truncate"},ae={class:"flex h-full flex-shrink-0 items-center pr-2 pl-2 text-gray-400"},te={key:0,class:"absolute top-10 z-50 ml-0.5 w-full rounded-lg py-2 text-gray-700 shadow-2xl dark:bg-gray-700 dark:text-white"},ne=["onClick"],j=E({__name:"index",props:{pageSize:{type:Number,default:0},totalCount:{type:Number,default:0},page:{type:Number,default:0},showPageSize:{type:Boolean,default:!0}},emits:["update:page","update:pageSize"],setup(s,{emit:f}){const m=s,{pageSize:u,totalCount:y,page:l}=F(m),r=v(0),_=v(null),g=v(!1),d=v([]),x=e=>{f("update:page",e)};M([y,u,l],()=>C());const O=()=>{g.value=!g.value},R=e=>{e!==u.value&&(g.value=!1,f("update:pageSize",e))};T(_,e=>{g.value&&!_.value.contains(e.target)&&(g.value=!1)});const C=()=>{r.value=Math.ceil(y.value/u.value);const e=[];if(r.value<10){for(let t=1;t<=r.value;t++)e.push(t);return d.value=e,d.value}let o=l.value-3<1?1:l.value-3,a=l.value+3>r.value?r.value:l.value+3;o===1&&(a=7+o),a===r.value&&(o=a-7),a<r.value-1&&o>2&&a-o===6&&(a-=1);for(let t=o;t<=a;t++)t>0&&t<r.value&&e.push(t);return e[0]!==1&&e.unshift(1),e[e.length-1]!==r.value&&e.push(r.value),d.value=e,d.value},$=e=>d.value[e+1]-d.value[e]>1;return q(()=>{C()}),(e,o)=>(p(),c("div",J,[n("nav",K,[n("span",{class:"paginate-btn relative inline-flex items-center rounded-l-md border-gray-200 bg-gray-50 p-2 text-sm font-medium text-gray-500 hover:bg-gray-50 dark:border-gray-600 dark:bg-gray-800",onClick:o[0]||(o[0]=()=>i(l)>1&&x(i(l)-1))},[Q,k(i(A),{type:"chevron-left",class:"h-5 w-5",size:"24",weight:"bold"})]),(p(!0),c(w,null,P(d.value,(a,t)=>(p(),c(w,{key:t},[n("span",{class:b(["paginate-btn relative inline-flex w-12 items-center justify-center border-gray-200 bg-gray-50 py-2 text-sm font-medium text-gray-700 hover:bg-gray-300 dark:border-gray-600 dark:bg-gray-800",a===i(l)?"active bg-gray-100 dark:text-gray-900":""]),onClick:()=>x(a)},S(a),11,W),$(t)?(p(),c("span",X,"...")):z("",!0)],64))),128)),n("span",{class:"paginate-btn relative inline-flex items-center rounded-r-md border-gray-200 bg-gray-50 px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 dark:border-gray-600 dark:bg-gray-800",onClick:o[1]||(o[1]=()=>i(l)<r.value&&x(i(l)+1))},[Y,k(i(G),{type:"chevron-right",class:"h-5 w-5",size:"24",weight:"bold"})])]),s.showPageSize?(p(),c("div",Z,[n("div",{ref_key:"containerRef",ref:_,class:"relative ml-2 flex h-full flex-col"},[n("div",{class:"shadow-outline flex flex h-full h-8 items-center overflow-hidden rounded-md border-gray-200 bg-gray-50 p-1.5 shadow-inner focus-within:outline-none focus-within:ring dark:border-gray-600 dark:bg-gray-800",onClick:O},[n("div",{class:b(["flex h-full w-full items-center bg-transparent text-current outline-none",[e.$slots.prefix||"pl-2"]])},[n("div",ee,S(i(u)),1)],2),n("div",ae,[k(i(U),{size:18,class:b(["transition-transform duration-200",{"rotate-180 transform":g.value}])},null,8,["class"])])]),g.value?(p(),c("ul",te,[(p(),c(w,null,P([10,25,50],a=>n("li",{key:a,class:b(["flex items-center justify-center px-4 py-1.5 transition-colors duration-200 hover:bg-gray-500 hover:text-white",i(u)===a?"bg-gray-500 text-white ":""]),onClick:t=>R(a)},[n("span",null,S(a),1)],10,ne)),64))])):z("",!0)],512)])):z("",!0)]))}});const se=(s,f)=>{const m=s.__vccOpts||s;for(const[u,y]of f)m[u]=y;return m},B=se(j,[["__scopeId","data-v-84623b55"]]);j.__docgenInfo={exportName:"default",displayName:"Pagination",description:"",tags:{},props:[{name:"pageSize",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"totalCount",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"page",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"showPageSize",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}}],events:[{name:"update:page"},{name:"update:pageSize"}]};const ue={title:"Ui/Pagination",component:B},re=s=>({template:'<Pagination v-bind="args" :totalCount="200" v-model:page="page" v-model:pageSize="pageSize"/>',components:{Pagination:B},setup(){const f=v(2),m=v(10);return{args:s,page:f,pageSize:m}}}),h=re.bind({});var I,N,V;h.parameters={...h.parameters,docs:{...(I=h.parameters)==null?void 0:I.docs,source:{originalSource:`args => ({
  template: '<Pagination v-bind="args" :totalCount="200" v-model:page="page" v-model:pageSize="pageSize"/>',
  components: {
    Pagination
  },
  setup() {
    const page = ref(2);
    const pageSize = ref(10);
    return {
      args,
      page,
      pageSize
    };
  }
})`,...(V=(N=h.parameters)==null?void 0:N.docs)==null?void 0:V.source}}};const ge=["Default"];export{h as Default,ge as __namedExportsOrder,ue as default};
//# sourceMappingURL=index.stories-758e751a.js.map
