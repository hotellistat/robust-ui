import{w as u,a as w}from"./iframe.e8056002.js";var{LOGLEVEL:Y,console:c}=u,l={trace:1,debug:2,info:3,warn:4,error:5,silent:10},x=Y,R=l[x]||l.info,S={trace:(e,...t)=>R<=l.trace&&c.trace(e,...t),debug:(e,...t)=>R<=l.debug&&c.debug(e,...t),info:(e,...t)=>R<=l.info&&c.info(e,...t),warn:(e,...t)=>R<=l.warn&&c.warn(e,...t),error:(e,...t)=>R<=l.error&&c.error(e,...t),log:(e,...t)=>R<l.silent&&c.log(e,...t)},O="backgrounds",{document:h,window:G}=u,H=()=>G.matchMedia("(prefers-reduced-motion: reduce)").matches,U=(e,t=[],r)=>{if(e==="transparent")return"transparent";if(t.find(s=>s.value===e))return e;let n=t.find(s=>s.name===r);if(n)return n.value;if(r){let s=t.map(o=>o.name).join(", ");S.warn(w`
        Backgrounds Addon: could not find the default color "${r}".
        These are the available colors for your story based on your configuration:
        ${s}.
      `)}return"transparent"},N=e=>{(Array.isArray(e)?e:[e]).forEach(M)},M=e=>{let t=h.getElementById(e);t&&t.parentElement.removeChild(t)},k=(e,t)=>{let r=h.getElementById(e);if(r)r.innerHTML!==t&&(r.innerHTML=t);else{let n=h.createElement("style");n.setAttribute("id",e),n.innerHTML=t,h.head.appendChild(n)}},B=(e,t,r)=>{let n=h.getElementById(e);if(n)n.innerHTML!==t&&(n.innerHTML=t);else{let s=h.createElement("style");s.setAttribute("id",e),s.innerHTML=t;let o=`addon-backgrounds-grid${r?`-docs-${r}`:""}`,a=h.getElementById(o);a?a.parentElement.insertBefore(s,a):h.head.appendChild(s)}},F=()=>Math.random().toString(16).slice(2),W=class{constructor({transport:e,async:t=!1}={}){this.sender=F(),this.events={},this.data={},this.isAsync=t,e&&(this.transport=e,this.transport.setHandler(r=>this.handleEvent(r)))}get hasTransport(){return!!this.transport}addListener(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)}emit(e,...t){let r={type:e,args:t,from:this.sender},n={};t.length>=1&&t[0]&&t[0].options&&(n=t[0].options);let s=()=>{this.transport&&this.transport.send(r,n),this.handleEvent(r)};this.isAsync?setImmediate(s):s()}last(e){return this.data[e]}eventNames(){return Object.keys(this.events)}listenerCount(e){let t=this.listeners(e);return t?t.length:0}listeners(e){return this.events[e]||void 0}once(e,t){let r=this.onceListener(e,t);this.addListener(e,r)}removeAllListeners(e){e?this.events[e]&&delete this.events[e]:this.events={}}removeListener(e,t){let r=this.listeners(e);r&&(this.events[e]=r.filter(n=>n!==t))}on(e,t){this.addListener(e,t)}off(e,t){this.removeListener(e,t)}handleEvent(e){let t=this.listeners(e.type);t&&t.length&&t.forEach(r=>{r.apply(e,e.args)}),this.data[e.type]=e.args}onceListener(e,t){let r=(...n)=>(this.removeListener(e,r),t(...n));return r}},D=(e=>(e.CHANNEL_CREATED="channelCreated",e.CONFIG_ERROR="configError",e.STORY_INDEX_INVALIDATED="storyIndexInvalidated",e.STORY_SPECIFIED="storySpecified",e.SET_CONFIG="setConfig",e.SET_STORIES="setStories",e.SET_INDEX="setIndex",e.SET_CURRENT_STORY="setCurrentStory",e.CURRENT_STORY_WAS_SET="currentStoryWasSet",e.FORCE_RE_RENDER="forceReRender",e.FORCE_REMOUNT="forceRemount",e.PRELOAD_ENTRIES="preloadStories",e.STORY_PREPARED="storyPrepared",e.STORY_CHANGED="storyChanged",e.STORY_UNCHANGED="storyUnchanged",e.STORY_RENDERED="storyRendered",e.STORY_MISSING="storyMissing",e.STORY_ERRORED="storyErrored",e.STORY_THREW_EXCEPTION="storyThrewException",e.STORY_RENDER_PHASE_CHANGED="storyRenderPhaseChanged",e.PLAY_FUNCTION_THREW_EXCEPTION="playFunctionThrewException",e.UPDATE_STORY_ARGS="updateStoryArgs",e.STORY_ARGS_UPDATED="storyArgsUpdated",e.RESET_STORY_ARGS="resetStoryArgs",e.SET_GLOBALS="setGlobals",e.UPDATE_GLOBALS="updateGlobals",e.GLOBALS_UPDATED="globalsUpdated",e.REGISTER_SUBSCRIPTION="registerSubscription",e.PREVIEW_KEYDOWN="previewKeydown",e.SELECT_STORY="selectStory",e.STORIES_COLLAPSE_ALL="storiesCollapseAll",e.STORIES_EXPAND_ALL="storiesExpandAll",e.DOCS_RENDERED="docsRendered",e.SHARED_STATE_CHANGED="sharedStateChanged",e.SHARED_STATE_SET="sharedStateSet",e.NAVIGATE_URL="navigateUrl",e.UPDATE_QUERY_PARAMS="updateQueryParams",e))(D||{}),{CHANNEL_CREATED:ne,CONFIG_ERROR:se,STORY_INDEX_INVALIDATED:ae,STORY_SPECIFIED:ie,SET_STORIES:oe,SET_INDEX:de,SET_CONFIG:X,SET_CURRENT_STORY:le,CURRENT_STORY_WAS_SET:he,FORCE_RE_RENDER:Ee,FORCE_REMOUNT:ce,STORY_PREPARED:Re,STORY_CHANGED:Se,STORY_UNCHANGED:ue,PRELOAD_ENTRIES:Te,STORY_RENDERED:_e,STORY_MISSING:pe,STORY_ERRORED:ge,STORY_THREW_EXCEPTION:Ae,STORY_RENDER_PHASE_CHANGED:Oe,PLAY_FUNCTION_THREW_EXCEPTION:fe,UPDATE_STORY_ARGS:me,STORY_ARGS_UPDATED:ve,RESET_STORY_ARGS:$e,SET_GLOBALS:Ce,UPDATE_GLOBALS:Ne,GLOBALS_UPDATED:De,REGISTER_SUBSCRIPTION:ye,PREVIEW_KEYDOWN:Le,SELECT_STORY:Ie,STORIES_COLLAPSE_ALL:be,STORIES_EXPAND_ALL:Pe,DOCS_RENDERED:we,SHARED_STATE_CHANGED:Ye,SHARED_STATE_SET:xe,NAVIGATE_URL:Ge,UPDATE_QUERY_PARAMS:He}=D;function V(){let e={setHandler:()=>{},send:()=>{}};return new W({transport:e})}var z=(e=>(e.TAB="tab",e.PANEL="panel",e.TOOL="tool",e.TOOLEXTRA="toolextra",e.PREVIEW="preview",e.NOTES_ELEMENT="notes-element",e))(z||{}),j=class{constructor(){this.loaders={},this.elements={},this.config={},this.getChannel=()=>(this.channel||this.setChannel(V()),this.channel),this.getServerChannel=()=>{if(!this.serverChannel)throw new Error("Accessing non-existent serverChannel");return this.serverChannel},this.ready=()=>this.promise,this.hasChannel=()=>!!this.channel,this.hasServerChannel=()=>!!this.serverChannel,this.setChannel=e=>{this.channel=e,this.resolve()},this.setServerChannel=e=>{this.serverChannel=e},this.getElements=e=>(this.elements[e]||(this.elements[e]={}),this.elements[e]),this.addPanel=(e,t)=>{this.add(e,{type:"panel",...t})},this.add=(e,t)=>{let{type:r}=t,n=this.getElements(r);n[e]={id:e,...t}},this.setConfig=e=>{Object.assign(this.config,e),this.hasChannel()&&this.getChannel().emit(X,e)},this.getConfig=()=>this.config,this.register=(e,t)=>{this.loaders[e]&&S.warn(`${e} was loaded twice, this could have bad side-effects`),this.loaders[e]=t},this.loadAddons=e=>{Object.values(this.loaders).forEach(t=>t(e))},this.promise=new Promise(e=>{this.resolve=()=>e(this.getChannel())})}},f="__STORYBOOK_ADDONS";function K(){return u[f]||(u[f]=new j),u[f]}K();var{window:Q}=u,q=(e,t)=>e.length===t.length&&e.every((r,n)=>r===t[n]),y=()=>new Error("Storybook preview hooks can only be called inside decorators and story functions.");function J(){return Q.STORYBOOK_HOOKS_CONTEXT||null}function L(){let e=J();if(e==null)throw y();return e}function Z(e,t,r){let n=L();if(n.currentPhase==="MOUNT"){r!=null&&!Array.isArray(r)&&S.warn(`${e} received a final argument that is not an array (instead, received ${r}). When specified, the final argument must be an array.`);let s={name:e,deps:r};return n.currentHooks.push(s),t(s),s}if(n.currentPhase==="UPDATE"){let s=n.getNextHook();if(s==null)throw new Error("Rendered more hooks than during the previous render.");return s.name!==e&&S.warn(`Storybook has detected a change in the order of Hooks${n.currentDecoratorName?` called by ${n.currentDecoratorName}`:""}. This will lead to bugs and errors if not fixed.`),r!=null&&s.deps==null&&S.warn(`${e} received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.`),r!=null&&s.deps!=null&&r.length!==s.deps.length&&S.warn(`The final argument passed to ${e} changed size between renders. The order and size of this array must remain constant.
Previous: ${s.deps}
Incoming: ${r}`),(r==null||s.deps==null||!q(r,s.deps))&&(t(s),s.deps=r),s}throw y()}function I(e,t,r){let{memoizedState:n}=Z(e,s=>{s.memoizedState=t()},r);return n}function A(e,t){return I("useMemo",e,t)}function b(e,t){let r=L(),n=I("useEffect",()=>({create:e}),t);r.currentEffects.includes(n)||r.currentEffects.push(n)}var ee=(e,t)=>{var _;let{globals:r,parameters:n}=t,s=(_=r[O])==null?void 0:_.value,o=n[O],a=A(()=>o.disable?"transparent":U(s,o.values,o.default),[o,s]),i=A(()=>a&&a!=="transparent",[a]),E=t.viewMode==="docs"?`#anchor--${t.id} .docs-story`:".sb-show-main",T=A(()=>{let d="transition: background-color 0.3s;";return`
      ${E} {
        background: ${a} !important;
        ${H()?"":d}
      }
    `},[a,E]);return b(()=>{let d=t.viewMode==="docs"?`addon-backgrounds-docs-${t.id}`:"addon-backgrounds-color";if(!i){N(d);return}B(d,T,t.viewMode==="docs"?t.id:null)},[i,T,t]),e()},te=(e,t)=>{var v,$,C;let{globals:r,parameters:n}=t,s=n[O].grid,o=((v=r[O])==null?void 0:v.grid)===!0&&s.disable!==!0,{cellAmount:a,cellSize:i,opacity:E}=s,T=t.viewMode==="docs",_=n.layout===void 0||n.layout==="padded"?16:0,d=($=s.offsetX)!=null?$:T?20:_,p=(C=s.offsetY)!=null?C:T?20:_,m=A(()=>{let g=t.viewMode==="docs"?`#anchor--${t.id} .docs-story`:".sb-show-main",P=[`${i*a}px ${i*a}px`,`${i*a}px ${i*a}px`,`${i}px ${i}px`,`${i}px ${i}px`].join(", ");return`
      ${g} {
        background-size: ${P} !important;
        background-position: ${d}px ${p}px, ${d}px ${p}px, ${d}px ${p}px, ${d}px ${p}px !important;
        background-blend-mode: difference !important;
        background-image: linear-gradient(rgba(130, 130, 130, ${E}) 1px, transparent 1px),
         linear-gradient(90deg, rgba(130, 130, 130, ${E}) 1px, transparent 1px),
         linear-gradient(rgba(130, 130, 130, ${E/2}) 1px, transparent 1px),
         linear-gradient(90deg, rgba(130, 130, 130, ${E/2}) 1px, transparent 1px) !important;
      }
    `},[i]);return b(()=>{let g=t.viewMode==="docs"?`addon-backgrounds-grid-docs-${t.id}`:"addon-backgrounds-grid";if(!o){N(g);return}k(g,m)},[o,m,t]),e()},Ue=[te,ee],Me={backgrounds:{grid:{cellSize:20,opacity:.5,cellAmount:5},values:[{name:"light",value:"#F8F8F8"},{name:"dark",value:"#333333"}]}};export{Ue as decorators,Me as parameters};
//# sourceMappingURL=preview.021ab9e1.js.map
