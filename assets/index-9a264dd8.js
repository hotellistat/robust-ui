import{d as te,r as o,c as y,o as ae,S as ne,e as d,f as c,j as T,k as b,s as m,I as le,K as se,E as D,z as re,T as _,H as w}from"./vue.esm-bundler-2f1a0c70.js";const ue=["aria-valuemax","aria-valuemin","aria-valuenow","tabindex","onKeydown"],oe=["name","value"],ie={key:0},de={class:"text-xs text-gray-400 dark:text-gray-500"},ce=te({__name:"index",props:{name:{type:String,default:void 0},tabindex:{type:[String,Number],default:void 0},modelValue:{type:Number,required:!0},min:{type:Number,default:0},max:{type:Number,default:100},vertical:{type:Boolean,default:!1},step:{type:Number,default:10},snapToSteps:{type:Boolean,default:!1},showMarker:{type:Boolean,default:!1},markerValue:{type:[String,Number],default:void 0},disabled:{type:Boolean,default:!1}},emits:["focus","blur","update:modelValue","change","dragstart","dragend"],setup(n,{expose:H,emit:I}){const t=n,i=I,U=o(t.modelValue),h=o(!1),v=o(!1),l=o(t.modelValue),E=o(),f=o(),W=o(),X=y(()=>[{"is-dragging":v.value},{"is-disabled":t.disabled},{"is-active":h.value},{"has-marker":t.showMarker}]),Y=y(()=>({transform:`scale(${t.vertical?1:p(l.value)},  ${t.vertical?p(l.value):1})`})),$=y(()=>({left:t.vertical?void 0:p(l.value)*100+"%",top:t.vertical?100-p(l.value)*100+"%":void 0})),j=y(()=>t.markerValue===void 0?t.modelValue:t.markerValue),A=y(()=>{const e=[];let a=t.step*Math.ceil(r()/t.step);for(;a<=u();)e.push(a),a+=t.step;return e}),r=()=>t.max>t.min?t.min:0,u=()=>t.max>t.min?t.max:100,R=()=>{var e;(e=E.value)==null||e.focus()},G=()=>{V(U)},P=()=>{h.value=!0,i("focus")},z=()=>{h.value=!1,i("blur")},L=e=>{var a;(a=E.value)!=null&&a.contains(e.target)||z()},M=e=>{e=S(e),t.snapToSteps&&(e=ee(e)),V(e)},V=e=>{e=S(e),e!==l.value&&(l.value=e,i("update:modelValue",e),i("change",e))},C=()=>{M(l.value+t.step)},K=()=>{M(l.value-t.step)},J=e=>({left:e+"%"}),O=()=>{document.addEventListener("touchend",x),document.addEventListener("mouseup",x),document.addEventListener("click",L),document.addEventListener("touchstart",L),Z()},Q=()=>{document.removeEventListener("touchend",x),document.removeEventListener("mouseup",x),document.removeEventListener("click",L)},Z=()=>{const e=S(l.value?l.value:0);V(e)},q=e=>{t.disabled||(h.value||P(),v.value=!0,F(e),document.addEventListener("touchmove",k),document.addEventListener("mousemove",k),i("dragstart",l.value,e))},k=e=>{F(e)},F=e=>{if(!f.value)return;const a=f.value.getBoundingClientRect();let s;if(t.vertical){const N=e.touches?e.touches[0].pageY:e.pageY,B=f.value.offsetHeight;s=(a.bottom-N)/B}else{const N=e.touches?e.touches[0].pageX:e.pageX,B=f.value.offsetWidth;s=(N-a.left)/B}const g=S(r()+s*(u()-r()));v.value&&V(Math.round(g))},x=e=>{v.value&&(v.value=!1,t.snapToSteps&&t.modelValue%t.step!==0&&M(t.modelValue),document.removeEventListener("touchmove",k),document.removeEventListener("mousemove",k),i("dragend",l.value,e))},ee=e=>{const a=Math.floor(e/t.step)*t.step,s=a+t.step,g=(a+s)/2;return a<r()?s>u()?e:s:e>=g&&s<=u()?s:a},p=e=>(e-r())/(u()-r()),S=e=>e<r()?r():e>u()?u():e;return ae(()=>{O()}),ne(()=>{Q()}),H({getPointStyle:J,focus:R,reset:G}),(e,a)=>(d(),c("div",{ref_key:"slider",ref:E,class:m(["base-slider select-none",X.value]),role:"slider","aria-valuemax":u(),"aria-valuemin":r(),"aria-valuenow":l.value,tabindex:n.disabled?null:n.tabindex||"0",onBlur:z,onFocus:P,onKeydown:[_(w(K,["prevent"]),["down"]),_(w(K,["prevent"]),["left"]),_(w(C,["prevent"]),["right"]),_(w(C,["prevent"]),["up"])]},[n.name?(d(),c("input",{key:0,class:"base-slider__hidden-input",type:"hidden",name:n.name,value:n.modelValue},null,8,oe)):T("",!0),b("div",{ref_key:"track",ref:f,class:m(["base-slider__track relative",[n.vertical?"vertical ":""]]),onMousedown:q,onTouchstart:q},[b("div",{class:m(["base-slider__track-background bg-gray-300 dark:bg-gray-400",[n.vertical?"vertical ":""]])},[n.snapToSteps?(d(),c("div",ie,[(d(!0),c(le,null,se(A.value,(s,g)=>(d(),c("span",{key:g,class:"base-slider__snap-point",style:D({[n.vertical?"bottom":"left"]:100*p(s)+"%"})},null,4))),128))])):T("",!0)],2),b("div",{class:m(["base-slider__track-fill bg-primary-400",[n.vertical?"vertical ":""]]),style:D(Y.value)},null,6),b("div",{ref_key:"thumb",ref:W,class:m(["base-slider__thumb bg-primary-400",[n.vertical?"vertical ":""]]),style:D($.value)},[n.showMarker?(d(),c("div",{key:0,class:m(["base-slider__marker text-xs",[n.vertical?"vertical ":""]])},[b("span",de,re(j.value),1)],2)):T("",!0)],6)],34)],42,ue))}});ce.__docgenInfo={exportName:"default",displayName:"Slider",description:"",tags:{},expose:[{name:"getPointStyle"},{name:"focus"},{name:"reset"}],props:[{name:"name",type:{name:"string"},defaultValue:{func:!1,value:"undefined"}},{name:"tabindex",type:{name:"string|number"},defaultValue:{func:!1,value:"undefined"}},{name:"modelValue",type:{name:"number"},required:!0},{name:"min",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"max",type:{name:"number"},defaultValue:{func:!1,value:"100"}},{name:"vertical",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"step",type:{name:"number"},defaultValue:{func:!1,value:"10"}},{name:"snapToSteps",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showMarker",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"markerValue",type:{name:"string|number"},defaultValue:{func:!1,value:"undefined"}},{name:"disabled",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"focus"},{name:"blur"},{name:"update:modelValue"},{name:"change"},{name:"dragstart"},{name:"dragend"}]};export{ce as _};
