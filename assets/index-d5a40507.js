import{d as fe,q as pe,j as o,a as b,s as ge,V as ye,o as c,b as v,u as l,f as V,g as m,F as be,l as he,n as S,t as G,p as _e,P as w,H as M}from"./vue.esm-bundler-9a71f774.js";const xe=["aria-valuemax","aria-valuemin","aria-valuenow","tabindex","onKeydown"],ke=["name","value"],Ve={class:"base-slider__track-background bg-gray-300 dark:bg-gray-400"},Se={key:0},we={key:0,class:"base-slider__marker text-xs"},Me={class:"text-xs text-gray-400 dark:text-gray-500"},Ee={key:0,class:"base-slider__marker text-xs"},Le={class:"text-xs text-gray-400 dark:text-gray-500"},Te=fe({__name:"index",props:{name:{type:String,default:void 0},tabindex:{type:[String,Number],default:void 0},modelValue:{type:Array,required:!0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:10},snapToSteps:{type:Boolean,default:!1},showMarker:{type:Boolean,default:!1},markerValue:{type:[String,Number],default:void 0},disabled:{type:Boolean,default:!1}},emits:["focus","blur","update:modelValue","change","dragstart","dragend"],setup(h,{expose:J,emit:f}){const Q=h,{min:E,max:L,markerValue:Y,disabled:T,showMarker:D,step:u,snapToSteps:N,modelValue:i}=pe(Q),Z=o(i.value),_=o(!1),g=o(!1),a=o(i.value),B=o(),P=o(),$=o(),ee=o(),n=o(0);if(Array.isArray(i.value)&&(i.value.length>2||i.value.length<2))throw Error("modelValue must be number or array of 2 numbers");const ae=b(()=>[{"is-dragging":g.value},{"is-disabled":T.value},{"is-active":_.value},{"has-marker":D.value}]),te=b(()=>({transform:"scaleX("+(y(a.value[1])-y(a.value[0]))+")",left:q.value.left})),q=b(()=>({left:y(a.value[0])*100+"%"})),ne=b(()=>({left:y(a.value[1])*100+"%"})),F=(e=0)=>Y.value??a.value[e],se=b(()=>{const e=[];let t=u.value*Math.ceil(r()/u.value);for(;t<=d();)e.push(t),t+=u.value;return e}),r=()=>L.value>E.value?E.value:0,d=()=>L.value>E.value?L.value:100,le=()=>{B.value.focus()},ue=()=>{for(let e=0;e<2;e++)n.value=e,X(Z.value[e])},I=()=>{_.value=!0,f("focus")},K=()=>{_.value=!1,f("blur")},H=e=>{B.value.contains(e.target)||K()},C=e=>{e=z(e),N.value&&(e=ve(e)),X(e)},X=e=>{e=z(e),e!==a.value[n.value]&&(n.value===0&&e>=a.value[1]&&(e=a.value[1]),n.value===1&&e<=a.value[0]&&(e=a.value[0]),a.value[n.value]=e,f("update:modelValue",a.value),f("change",a.value))},R=()=>{C(a.value[n.value]+u.value)},U=()=>{C(a.value[n.value]-u.value)},re=e=>({left:e+"%"}),oe=()=>{document.addEventListener("touchend",k),document.addEventListener("mouseup",k),document.addEventListener("click",H),document.addEventListener("touchstart",H),de()},ie=()=>{document.removeEventListener("touchend",k),document.removeEventListener("mouseup",k),document.removeEventListener("click",H)},de=()=>{ue()},W=e=>{if(T.value)return;_.value||I();const t=j(e);n.value=ce(t),n.value,g.value=!0,O(e),document.addEventListener("touchmove",x),document.addEventListener("mousemove",x),f("dragstart",a.value,e)},x=e=>{O(e)},ce=e=>{let t=0;if(a.value[0]===a.value[1]){const A=a.value[0];return e>A?1:0}const s=Math.abs(a.value[0]-e);return Math.abs(a.value[1]-e)<s&&(t=1),t},j=e=>{const t=P.value.getBoundingClientRect().left,s=e.touches?e.touches[0].pageX:e.pageX,p=P.value.offsetWidth,A=(s-t)/p,me=z(r()+A*(d()-r()));return Math.round(me)},O=e=>{const t=j(e);g.value&&X(Math.round(t))},k=e=>{g.value&&(g.value=!1,N.value&&i.value[n.value]%u.value!==0&&C(i.value[n.value]),document.removeEventListener("touchmove",x),document.removeEventListener("mousemove",x),f("dragend",a.value,e))},ve=e=>{const t=Math.floor(e/u.value)*u.value,s=t+u.value,p=(t+s)/2;return t<r()?s>d()?e:s:e>=p&&s<=d()?s:t},y=e=>(e-r())/(d()-r()),z=e=>e<r()?r():e>d()?d():e;return ge(()=>{oe()}),ye(()=>{ie()}),J({getPointStyle:re,focus:le}),(e,t)=>(c(),v("div",{ref_key:"slider",ref:B,class:_e(["base-slider relative",l(ae)]),role:"slider","aria-valuemax":d(),"aria-valuemin":r(),"aria-valuenow":a.value[0],tabindex:l(T)?null:h.tabindex||"0",onBlur:K,onFocus:I,onKeydown:[w(M(U,["prevent"]),["down"]),w(M(U,["prevent"]),["left"]),w(M(R,["prevent"]),["right"]),w(M(R,["prevent"]),["up"])]},[h.name?(c(),v("input",{key:0,class:"base-slider__hidden-input",type:"hidden",name:h.name,value:l(i)[0]},null,8,ke)):V("",!0),m("div",{ref_key:"track",ref:P,class:"base-slider__track relative w-full",onMousedown:W,onTouchstart:W},[m("div",Ve,[l(N)?(c(),v("div",Se,[(c(!0),v(be,null,he(l(se),(s,p)=>(c(),v("span",{key:p,class:"base-slider__snap-point",style:S({left:100*y(s)+"%"})},null,4))),128))])):V("",!0)]),m("div",{class:"base-slider__track-fill bg-primary-400",style:S(l(te))},null,4),m("div",{ref_key:"firstThumb",ref:$,class:"base-slider__thumb bg-primary-400",style:S(l(q))},[l(D)?(c(),v("div",we,[m("span",Me,G(F()),1)])):V("",!0)],4),m("div",{ref_key:"secondThumb",ref:ee,class:"base-slider__thumb bg-primary-400",style:S(l(ne))},[l(D)?(c(),v("div",Ee,[m("span",Le,G(F(1)),1)])):V("",!0)],4)],544)],42,xe))}});Te.__docgenInfo={exportName:"default",displayName:"RangeSlider",description:"",tags:{},expose:[{name:"getPointStyle"},{name:"focus"}],props:[{name:"name",type:{name:"string"},defaultValue:{func:!1,value:"undefined"}},{name:"tabindex",type:{name:"string|number"},defaultValue:{func:!1,value:"undefined"}},{name:"modelValue",type:{name:"number[]"},required:!0},{name:"min",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"max",type:{name:"number"},defaultValue:{func:!1,value:"100"}},{name:"step",type:{name:"number"},defaultValue:{func:!1,value:"10"}},{name:"snapToSteps",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showMarker",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"markerValue",type:{name:"string|number"},defaultValue:{func:!1,value:"undefined"}},{name:"disabled",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"focus"},{name:"blur"},{name:"update:modelValue"},{name:"change"},{name:"dragstart"},{name:"dragend"}]};export{Te as _};
//# sourceMappingURL=index-d5a40507.js.map
