import{a as fe,t as pe,y as r,e as h,B as ye,a3 as ge,o as c,k as v,l as V,j as m,u as o,C as be,D as he,P as S,E as Q,n as _e,$ as w,Q as E}from"./iframe.4adac04e.js";const ke=["aria-valuemax","aria-valuemin","aria-valuenow","tabindex","onKeydown"],xe=["name","value"],Ve={class:"base-slider__track-background bg-gray-300 dark:bg-gray-400"},Se={key:0},we={key:0,class:"base-slider__marker text-xs"},Ee={class:"text-xs text-gray-400 dark:text-gray-500"},Me={key:0,class:"base-slider__marker text-xs"},Le={class:"text-xs text-gray-400 dark:text-gray-500"},De=fe({__name:"index",props:{name:{type:String,default:void 0},tabindex:{type:[String,Number],default:void 0},modelValue:{type:Array,required:!0},value:{type:Number,required:!0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:10},snapToSteps:{type:Boolean,default:!1},showMarker:{type:Boolean,default:!1},markerValue:{type:[String,Number],default:void 0},disabled:{type:Boolean,default:!1}},emits:["focus","blur","update:modelValue","change","dragstart","dragend"],setup(y,{expose:$,emit:f}){const G=y,{min:M,max:L,markerValue:J,disabled:D,showMarker:N,step:s,snapToSteps:T,modelValue:d}=pe(G),Y=r(d.value),_=r(!1),g=r(!1),a=r(d.value),B=r(),C=r(),Z=r(),ee=r(),n=r(0);if(Array.isArray(d.value)&&(d.value.length>2||d.value.length<2))throw Error("modelValue must be number or array of 2 numbers");const ae=h(()=>[{"is-dragging":g.value},{"is-disabled":D.value},{"is-active":_.value},{"has-marker":N.value}]),te=h(()=>{const e=b(a.value[1])-b(a.value[0]);return{transform:"scaleX("+e+")",left:X.value.left}}),X=h(()=>({left:b(a.value[0])*100+"%"})),ne=h(()=>({left:b(a.value[1])*100+"%"})),I=(e=0)=>{var t;return(t=J.value)!=null?t:a.value[e]},le=h(()=>{const e=[];let t=s.value*Math.ceil(u()/s.value);for(;t<=i();)e.push(t),t+=s.value;return e}),u=()=>L.value>M.value?M.value:0,i=()=>L.value>M.value?L.value:100,se=()=>{B.value.focus()},ue=()=>{for(let e=0;e<2;e++)n.value=e,q(Y.value[e])},K=()=>{_.value=!0,f("focus")},R=()=>{_.value=!1,f("blur")},P=e=>{B.value.contains(e.target)||R()},H=e=>{e=z(e),T.value&&(e=ve(e)),q(e)},q=e=>{e=z(e),e!==a.value[n.value]&&(n.value===0&&e>=a.value[1]&&(e=a.value[1]),n.value===1&&e<=a.value[0]&&(e=a.value[0]),a.value[n.value]=e,f("update:modelValue",a.value),f("change",a.value))},F=()=>{H(a.value[n.value]+s.value)},U=()=>{H(a.value[n.value]-s.value)},re=e=>({left:e+"%"}),oe=()=>{document.addEventListener("touchend",x),document.addEventListener("mouseup",x),document.addEventListener("click",P),document.addEventListener("touchstart",P),de()},ie=()=>{document.removeEventListener("touchend",x),document.removeEventListener("mouseup",x),document.removeEventListener("click",P)},de=()=>{ue()},W=e=>{if(D.value)return;_.value||K();const t=j(e);n.value=ce(t),console.log(n.value),g.value=!0,O(e),document.addEventListener("touchmove",k),document.addEventListener("mousemove",k),f("dragstart",a.value,e)},k=e=>{O(e)},ce=e=>{let t=0;if(a.value[0]===a.value[1]){const A=a.value[0];return e>A?1:0}const l=Math.abs(a.value[0]-e);return Math.abs(a.value[1]-e)<l&&(t=1),t},j=e=>{const t=C.value.getBoundingClientRect().left,l=e.touches?e.touches[0].pageX:e.pageX,p=C.value.offsetWidth,A=(l-t)/p,me=z(u()+A*(i()-u()));return Math.round(me)},O=e=>{const t=j(e);g.value&&q(Math.round(t))},x=e=>{g.value&&(g.value=!1,T.value&&d.value[n.value]%s.value!==0&&H(d.value[n.value]),document.removeEventListener("touchmove",k),document.removeEventListener("mousemove",k),f("dragend",a.value,e))},ve=e=>{const t=Math.floor(e/s.value)*s.value,l=t+s.value,p=(t+l)/2;return t<u()?l>i()?e:l:e>=p&&l<=i()?l:t},b=e=>(e-u())/(i()-u()),z=e=>e<u()?u():e>i()?i():e;return ye(()=>{oe()}),ge(()=>{ie()}),$({getPointStyle:re,focus:se}),(e,t)=>(c(),v("div",{ref_key:"slider",ref:B,class:_e(["base-slider relative",o(ae)]),role:"slider","aria-valuemax":i(),"aria-valuemin":u(),"aria-valuenow":a.value[0],tabindex:o(D)?null:y.tabindex||"0",onBlur:R,onFocus:K,onKeydown:[w(E(U,["prevent"]),["down"]),w(E(U,["prevent"]),["left"]),w(E(F,["prevent"]),["right"]),w(E(F,["prevent"]),["up"])]},[y.name?(c(),v("input",{key:0,class:"base-slider__hidden-input",type:"hidden",name:y.name,value:y.value},null,8,xe)):V("",!0),m("div",{ref_key:"track",ref:C,class:"base-slider__track relative w-full",onMousedown:W,onTouchstart:W},[m("div",Ve,[o(T)?(c(),v("div",Se,[(c(!0),v(be,null,he(o(le),(l,p)=>(c(),v("span",{key:p,class:"base-slider__snap-point",style:S({left:100*b(l)+"%"})},null,4))),128))])):V("",!0)]),m("div",{class:"base-slider__track-fill bg-primary-400",style:S(o(te))},null,4),m("div",{ref_key:"firstThumb",ref:Z,class:"base-slider__thumb bg-primary-400",style:S(o(X))},[o(N)?(c(),v("div",we,[m("span",Ee,Q(I()),1)])):V("",!0)],4),m("div",{ref_key:"secondThumb",ref:ee,class:"base-slider__thumb bg-primary-400",style:S(o(ne))},[o(N)?(c(),v("div",Me,[m("span",Le,Q(I(1)),1)])):V("",!0)],4)],544)],42,ke))}});De.__docgenInfo={exportName:"default",displayName:"RangeSlider",description:"",tags:{},props:[{name:"name",type:{name:"string"},defaultValue:{func:!1,value:"undefined"}},{name:"tabindex",type:{name:"string|number"},defaultValue:{func:!1,value:"undefined"}},{name:"modelValue",type:{name:"number[]"},required:!0},{name:"value",type:{name:"number"},required:!0},{name:"min",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"max",type:{name:"number"},defaultValue:{func:!1,value:"100"}},{name:"step",type:{name:"number"},defaultValue:{func:!1,value:"10"}},{name:"snapToSteps",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showMarker",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"markerValue",type:{name:"string|number"},defaultValue:{func:!1,value:"undefined"}},{name:"disabled",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"focus"},{name:"blur"},{name:"update:modelValue"},{name:"change"},{name:"dragstart"},{name:"dragend"}]};export{De as _};
//# sourceMappingURL=index.3e7455ea.js.map
