import{w as d,t as J}from"./iframe.29c3c4d5.js";var Z="measureEnabled",G=(t=>(t.CHANNEL_CREATED="channelCreated",t.CONFIG_ERROR="configError",t.STORY_INDEX_INVALIDATED="storyIndexInvalidated",t.STORY_SPECIFIED="storySpecified",t.SET_CONFIG="setConfig",t.SET_STORIES="setStories",t.SET_INDEX="setIndex",t.SET_CURRENT_STORY="setCurrentStory",t.CURRENT_STORY_WAS_SET="currentStoryWasSet",t.FORCE_RE_RENDER="forceReRender",t.FORCE_REMOUNT="forceRemount",t.PRELOAD_ENTRIES="preloadStories",t.STORY_PREPARED="storyPrepared",t.STORY_CHANGED="storyChanged",t.STORY_UNCHANGED="storyUnchanged",t.STORY_RENDERED="storyRendered",t.STORY_MISSING="storyMissing",t.STORY_ERRORED="storyErrored",t.STORY_THREW_EXCEPTION="storyThrewException",t.STORY_RENDER_PHASE_CHANGED="storyRenderPhaseChanged",t.PLAY_FUNCTION_THREW_EXCEPTION="playFunctionThrewException",t.UPDATE_STORY_ARGS="updateStoryArgs",t.STORY_ARGS_UPDATED="storyArgsUpdated",t.RESET_STORY_ARGS="resetStoryArgs",t.SET_GLOBALS="setGlobals",t.UPDATE_GLOBALS="updateGlobals",t.GLOBALS_UPDATED="globalsUpdated",t.REGISTER_SUBSCRIPTION="registerSubscription",t.PREVIEW_KEYDOWN="previewKeydown",t.SELECT_STORY="selectStory",t.STORIES_COLLAPSE_ALL="storiesCollapseAll",t.STORIES_EXPAND_ALL="storiesExpandAll",t.DOCS_RENDERED="docsRendered",t.SHARED_STATE_CHANGED="sharedStateChanged",t.SHARED_STATE_SET="sharedStateSet",t.NAVIGATE_URL="navigateUrl",t.UPDATE_QUERY_PARAMS="updateQueryParams",t))(G||{}),{CHANNEL_CREATED:Yt,CONFIG_ERROR:Gt,STORY_INDEX_INVALIDATED:Ut,STORY_SPECIFIED:Ht,SET_STORIES:Mt,SET_INDEX:Xt,SET_CONFIG:tt,SET_CURRENT_STORY:Ft,CURRENT_STORY_WAS_SET:Bt,FORCE_RE_RENDER:Wt,FORCE_REMOUNT:kt,STORY_PREPARED:Vt,STORY_CHANGED:zt,STORY_UNCHANGED:Kt,PRELOAD_ENTRIES:jt,STORY_RENDERED:qt,STORY_MISSING:Qt,STORY_ERRORED:Jt,STORY_THREW_EXCEPTION:Zt,STORY_RENDER_PHASE_CHANGED:te,PLAY_FUNCTION_THREW_EXCEPTION:ee,UPDATE_STORY_ARGS:ne,STORY_ARGS_UPDATED:re,RESET_STORY_ARGS:oe,SET_GLOBALS:ie,UPDATE_GLOBALS:se,GLOBALS_UPDATED:ae,REGISTER_SUBSCRIPTION:le,PREVIEW_KEYDOWN:he,SELECT_STORY:de,STORIES_COLLAPSE_ALL:ce,STORIES_EXPAND_ALL:fe,DOCS_RENDERED:pe,SHARED_STATE_CHANGED:ge,SHARED_STATE_SET:ue,NAVIGATE_URL:Re,UPDATE_QUERY_PARAMS:Ee}=G,{LOGLEVEL:et,console:m}=d,E={trace:1,debug:2,info:3,warn:4,error:5,silent:10},nt=et,S=E[nt]||E.info,b={trace:(t,...e)=>S<=E.trace&&m.trace(t,...e),debug:(t,...e)=>S<=E.debug&&m.debug(t,...e),info:(t,...e)=>S<=E.info&&m.info(t,...e),warn:(t,...e)=>S<=E.warn&&m.warn(t,...e),error:(t,...e)=>S<=E.error&&m.error(t,...e),log:(t,...e)=>S<E.silent&&m.log(t,...e)},rt=()=>Math.random().toString(16).slice(2),ot=class{constructor({transport:t,async:e=!1}={}){this.sender=rt(),this.events={},this.data={},this.isAsync=e,t&&(this.transport=t,this.transport.setHandler(n=>this.handleEvent(n)))}get hasTransport(){return!!this.transport}addListener(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)}emit(t,...e){let n={type:t,args:e,from:this.sender},o={};e.length>=1&&e[0]&&e[0].options&&(o=e[0].options);let r=()=>{this.transport&&this.transport.send(n,o),this.handleEvent(n)};this.isAsync?setImmediate(r):r()}last(t){return this.data[t]}eventNames(){return Object.keys(this.events)}listenerCount(t){let e=this.listeners(t);return e?e.length:0}listeners(t){return this.events[t]||void 0}once(t,e){let n=this.onceListener(t,e);this.addListener(t,n)}removeAllListeners(t){t?this.events[t]&&delete this.events[t]:this.events={}}removeListener(t,e){let n=this.listeners(t);n&&(this.events[t]=n.filter(o=>o!==e))}on(t,e){this.addListener(t,e)}off(t,e){this.removeListener(t,e)}handleEvent(t){let e=this.listeners(t.type);e&&e.length&&e.forEach(n=>{n.apply(t,t.args)}),this.data[t.type]=t.args}onceListener(t,e){let n=(...o)=>(this.removeListener(t,n),e(...o));return n}};function it(){let t={setHandler:()=>{},send:()=>{}};return new ot({transport:t})}var st=class{constructor(){this.loaders={},this.elements={},this.config={},this.getChannel=()=>(this.channel||this.setChannel(it()),this.channel),this.getServerChannel=()=>{if(!this.serverChannel)throw new Error("Accessing non-existent serverChannel");return this.serverChannel},this.ready=()=>this.promise,this.hasChannel=()=>!!this.channel,this.hasServerChannel=()=>!!this.serverChannel,this.setChannel=t=>{this.channel=t,this.resolve()},this.setServerChannel=t=>{this.serverChannel=t},this.getElements=t=>(this.elements[t]||(this.elements[t]={}),this.elements[t]),this.addPanel=(t,e)=>{this.add(t,{type:J.PANEL,...e})},this.add=(t,e)=>{let{type:n}=e,o=this.getElements(n);o[t]={id:t,...e}},this.setConfig=t=>{Object.assign(this.config,t),this.hasChannel()&&this.getChannel().emit(tt,t)},this.getConfig=()=>this.config,this.register=(t,e)=>{this.loaders[t]&&b.warn(`${t} was loaded twice, this could have bad side-effects`),this.loaders[t]=e},this.loadAddons=t=>{Object.values(this.loaders).forEach(e=>e(t))},this.promise=new Promise(t=>{this.resolve=()=>t(this.getChannel())})}},v="__STORYBOOK_ADDONS";function at(){return d[v]||(d[v]=new st),d[v]}at();var lt=(t,e)=>t.length===e.length&&t.every((n,o)=>n===e[o]),U=()=>new Error("Storybook preview hooks can only be called inside decorators and story functions.");function ht(){return d.STORYBOOK_HOOKS_CONTEXT||null}function H(){let t=ht();if(t==null)throw U();return t}function dt(t,e,n){let o=H();if(o.currentPhase==="MOUNT"){n!=null&&!Array.isArray(n)&&b.warn(`${t} received a final argument that is not an array (instead, received ${n}). When specified, the final argument must be an array.`);let r={name:t,deps:n};return o.currentHooks.push(r),e(r),r}if(o.currentPhase==="UPDATE"){let r=o.getNextHook();if(r==null)throw new Error("Rendered more hooks than during the previous render.");return r.name!==t&&b.warn(`Storybook has detected a change in the order of Hooks${o.currentDecoratorName?` called by ${o.currentDecoratorName}`:""}. This will lead to bugs and errors if not fixed.`),n!=null&&r.deps==null&&b.warn(`${t} received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.`),n!=null&&r.deps!=null&&n.length!==r.deps.length&&b.warn(`The final argument passed to ${t} changed size between renders. The order and size of this array must remain constant.
Previous: ${r.deps}
Incoming: ${n}`),(n==null||r.deps==null||!lt(n,r.deps))&&(e(r),r.deps=n),r}throw U()}function ct(t,e,n){let{memoizedState:o}=dt(t,r=>{r.memoizedState=e()},n);return o}function L(t,e){let n=H(),o=ct("useEffect",()=>({create:t}),e);n.currentEffects.includes(o)||n.currentEffects.push(o)}function M(){let t=d.document.documentElement,e=Math.max(t.scrollHeight,t.offsetHeight);return{width:Math.max(t.scrollWidth,t.offsetWidth),height:e}}function ft(){let t=d.document.createElement("canvas");t.id="storybook-addon-measure";let e=t.getContext("2d"),{width:n,height:o}=M();return C(t,e,{width:n,height:o}),t.style.position="absolute",t.style.left="0",t.style.top="0",t.style.zIndex="2147483647",t.style.pointerEvents="none",d.document.body.appendChild(t),{canvas:t,context:e,width:n,height:o}}function C(t,e,{width:n,height:o}){t.style.width=`${n}px`,t.style.height=`${o}px`;let r=d.window.devicePixelRatio;t.width=Math.floor(n*r),t.height=Math.floor(o*r),e.scale(r,r)}var f={};function pt(){f.canvas||(f=ft())}function X(){f.context&&f.context.clearRect(0,0,f.width,f.height)}function gt(t){X(),t(f.context)}function ut(){C(f.canvas,f.context,{width:0,height:0});let{width:t,height:e}=M();C(f.canvas,f.context,{width:t,height:e}),f.width=t,f.height=e}function Rt(){f.canvas&&(X(),f.canvas.parentNode.removeChild(f.canvas),f={})}var T={margin:"#f6b26b",border:"#ffe599",padding:"#93c47d",content:"#6fa8dc",text:"#232020"},R=6;function P(t,{x:e,y:n,w:o,h:r,r:i}){e=e-o/2,n=n-r/2,o<2*i&&(i=o/2),r<2*i&&(i=r/2),t.beginPath(),t.moveTo(e+i,n),t.arcTo(e+o,n,e+o,n+r,i),t.arcTo(e+o,n+r,e,n+r,i),t.arcTo(e,n+r,e,n,i),t.arcTo(e,n,e+o,n,i),t.closePath()}function Et(t,{padding:e,border:n,width:o,height:r,top:i,left:a}){let s=o-n.left-n.right-e.left-e.right,l=r-e.top-e.bottom-n.top-n.bottom,h=a+n.left+e.left,c=i+n.top+e.top;return t==="top"?h+=s/2:t==="right"?(h+=s,c+=l/2):t==="bottom"?(h+=s/2,c+=l):t==="left"?c+=l/2:t==="center"&&(h+=s/2,c+=l/2),{x:h,y:c}}function mt(t,e,{margin:n,border:o,padding:r},i,a){let s=p=>0,l=0,h=0,c=a?1:.5,g=a?i*2:0;return t==="padding"?s=p=>r[p]*c+g:t==="border"?s=p=>r[p]+o[p]*c+g:t==="margin"&&(s=p=>r[p]+o[p]+n[p]*c+g),e==="top"?h=-s("top"):e==="right"?l=s("right"):e==="bottom"?h=s("bottom"):e==="left"&&(l=-s("left")),{offsetX:l,offsetY:h}}function St(t,e){return Math.abs(t.x-e.x)<Math.abs(t.w+e.w)/2&&Math.abs(t.y-e.y)<Math.abs(t.h+e.h)/2}function Tt(t,e,n){return t==="top"?e.y=n.y-n.h-R:t==="right"?e.x=n.x+n.w/2+R+e.w/2:t==="bottom"?e.y=n.y+n.h+R:t==="left"&&(e.x=n.x-n.w/2-R-e.w/2),{x:e.x,y:e.y}}function F(t,e,{x:n,y:o,w:r,h:i},a){return P(t,{x:n,y:o,w:r,h:i,r:3}),t.fillStyle=`${T[e]}dd`,t.fill(),t.strokeStyle=T[e],t.stroke(),t.fillStyle=T.text,t.fillText(a,n,o),P(t,{x:n,y:o,w:r,h:i,r:3}),t.fillStyle=`${T[e]}dd`,t.fill(),t.strokeStyle=T[e],t.stroke(),t.fillStyle=T.text,t.fillText(a,n,o),{x:n,y:o,w:r,h:i}}function B(t,e){t.font="600 12px monospace",t.textBaseline="middle",t.textAlign="center";let n=t.measureText(e),o=n.actualBoundingBoxAscent+n.actualBoundingBoxDescent,r=n.width+R*2,i=o+R*2;return{w:r,h:i}}function _t(t,e,{type:n,position:o="center",text:r},i,a=!1){let{x:s,y:l}=Et(o,e),{offsetX:h,offsetY:c}=mt(n,o,e,R+1,a);s+=h,l+=c;let{w:g,h:p}=B(t,r);if(i&&St({x:s,y:l,w:g,h:p},i)){let A=Tt(o,{x:s,y:l,w:g,h:p},i);s=A.x,l=A.y}return F(t,n,{x:s,y:l,w:g,h:p},r)}function wt(t,{w:e,h:n}){let o=e*.5+R,r=n*.5+R;return{offsetX:(t.x==="left"?-1:1)*o,offsetY:(t.y==="top"?-1:1)*r}}function yt(t,e,{type:n,text:o}){let{floatingAlignment:r,extremities:i}=e,a=i[r.x],s=i[r.y],{w:l,h}=B(t,o),{offsetX:c,offsetY:g}=wt(r,{w:l,h});return a+=c,s+=g,F(t,n,{x:a,y:s,w:l,h},o)}function y(t,e,n,o){let r=[];n.forEach((i,a)=>{let s=o&&i.position==="center"?yt(t,e,i):_t(t,e,i,r[a-1],o);r[a]=s})}function bt(t,e,n,o){let r=n.reduce((i,a)=>(Object.prototype.hasOwnProperty.call(i,a.position)||(i[a.position]=[]),i[a.position].push(a),i),{});r.top&&y(t,e,r.top,o),r.right&&y(t,e,r.right,o),r.bottom&&y(t,e,r.bottom,o),r.left&&y(t,e,r.left,o),r.center&&y(t,e,r.center,o)}var x={margin:"#f6b26ba8",border:"#ffe599a8",padding:"#93c47d8c",content:"#6fa8dca8"},$=30;function u(t){return parseInt(t.replace("px",""),10)}function _(t){return Number.isInteger(t)?t:t.toFixed(2)}function N(t){return t.filter(e=>e.text!==0&&e.text!=="0")}function At(t){let e={top:d.window.scrollY,bottom:d.window.scrollY+d.window.innerHeight,left:d.window.scrollX,right:d.window.scrollX+d.window.innerWidth},n={top:Math.abs(e.top-t.top),bottom:Math.abs(e.bottom-t.bottom),left:Math.abs(e.left-t.left),right:Math.abs(e.right-t.right)};return{x:n.left>n.right?"left":"right",y:n.top>n.bottom?"top":"bottom"}}function Ot(t){let e=d.getComputedStyle(t),{top:n,left:o,right:r,bottom:i,width:a,height:s}=t.getBoundingClientRect(),{marginTop:l,marginBottom:h,marginLeft:c,marginRight:g,paddingTop:p,paddingBottom:A,paddingLeft:W,paddingRight:k,borderBottomWidth:V,borderTopWidth:z,borderLeftWidth:K,borderRightWidth:j}=e;n=n+d.window.scrollY,o=o+d.window.scrollX,i=i+d.window.scrollY,r=r+d.window.scrollX;let w={top:u(l),bottom:u(h),left:u(c),right:u(g)},q={top:u(p),bottom:u(A),left:u(W),right:u(k)},Q={top:u(z),bottom:u(V),left:u(K),right:u(j)},D={top:n-w.top,bottom:i+w.bottom,left:o-w.left,right:r+w.right};return{margin:w,padding:q,border:Q,top:n,left:o,bottom:i,right:r,width:a,height:s,extremities:D,floatingAlignment:At(D)}}function xt(t,{margin:e,width:n,height:o,top:r,left:i,bottom:a,right:s}){let l=o+e.bottom+e.top;t.fillStyle=x.margin,t.fillRect(i,r-e.top,n,e.top),t.fillRect(s,r-e.top,e.right,l),t.fillRect(i,a,n,e.bottom),t.fillRect(i-e.left,r-e.top,e.left,l);let h=[{type:"margin",text:_(e.top),position:"top"},{type:"margin",text:_(e.right),position:"right"},{type:"margin",text:_(e.bottom),position:"bottom"},{type:"margin",text:_(e.left),position:"left"}];return N(h)}function vt(t,{padding:e,border:n,width:o,height:r,top:i,left:a,bottom:s,right:l}){let h=o-n.left-n.right,c=r-e.top-e.bottom-n.top-n.bottom;t.fillStyle=x.padding,t.fillRect(a+n.left,i+n.top,h,e.top),t.fillRect(l-e.right-n.right,i+e.top+n.top,e.right,c),t.fillRect(a+n.left,s-e.bottom-n.bottom,h,e.bottom),t.fillRect(a+n.left,i+e.top+n.top,e.left,c);let g=[{type:"padding",text:e.top,position:"top"},{type:"padding",text:e.right,position:"right"},{type:"padding",text:e.bottom,position:"bottom"},{type:"padding",text:e.left,position:"left"}];return N(g)}function Ct(t,{border:e,width:n,height:o,top:r,left:i,bottom:a,right:s}){let l=o-e.top-e.bottom;t.fillStyle=x.border,t.fillRect(i,r,n,e.top),t.fillRect(i,a-e.bottom,n,e.bottom),t.fillRect(i,r+e.top,e.left,l),t.fillRect(s-e.right,r+e.top,e.right,l);let h=[{type:"border",text:e.top,position:"top"},{type:"border",text:e.right,position:"right"},{type:"border",text:e.bottom,position:"bottom"},{type:"border",text:e.left,position:"left"}];return N(h)}function Nt(t,{padding:e,border:n,width:o,height:r,top:i,left:a}){let s=o-n.left-n.right-e.left-e.right,l=r-e.top-e.bottom-n.top-n.bottom;return t.fillStyle=x.content,t.fillRect(a+n.left+e.left,i+n.top+e.top,s,l),[{type:"content",position:"center",text:`${_(s)} x ${_(l)}`}]}function Dt(t){return e=>{if(t&&e){let n=Ot(t),o=xt(e,n),r=vt(e,n),i=Ct(e,n),a=Nt(e,n),s=n.width<=$*3||n.height<=$;bt(e,n,[...a,...r,...i,...o],s)}}}function Lt(t){gt(Dt(t))}var Pt=(t,e)=>{let n=d.document.elementFromPoint(t,e),o=r=>{if(r&&r.shadowRoot){let i=r.shadowRoot.elementFromPoint(t,e);return r.isEqualNode(i)?r:i.shadowRoot?o(i):i}return r};return o(n)||n},I,O={x:0,y:0};function Y(t,e){I=Pt(t,e),Lt(I)}var $t=(t,e)=>{let{measureEnabled:n}=e.globals;return L(()=>{let o=r=>{window.requestAnimationFrame(()=>{r.stopPropagation(),O.x=r.clientX,O.y=r.clientY})};return document.addEventListener("mousemove",o),()=>{document.removeEventListener("mousemove",o)}},[]),L(()=>{let o=i=>{window.requestAnimationFrame(()=>{i.stopPropagation(),Y(i.clientX,i.clientY)})},r=()=>{window.requestAnimationFrame(()=>{ut()})};return n&&(document.addEventListener("mouseover",o),pt(),window.addEventListener("resize",r),Y(O.x,O.y)),()=>{window.removeEventListener("resize",r),Rt()}},[n]),t()},me=[$t],Se={[Z]:!1};export{me as decorators,Se as globals};
//# sourceMappingURL=preview.5d0cf540.js.map
